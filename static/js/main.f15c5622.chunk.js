(this.webpackJsonpcharitydiscount=this.webpackJsonpcharitydiscount||[]).push([[0],{133:function(e,t,a){e.exports=a(215)},214:function(e,t,a){},215:function(e,t,a){"use strict";a.r(t);var n,r,i,s,o,c,l,u=a(0),m=a.n(u),p=a(21),d=a.n(p),h=a(20),f=a(55),g=a(110),b=a(108),E=a(79),v=a(36),S=a(31);!function(e){e.SET_STAGE_ACTION="SET_STAGE_ACTION",e.SET_FAV_SHOPS_ICON_FILL_ACTION="SET_FAV_SHOPS_ICON_FILL_ACTION",e.RESET_STAGE_ACTION="RESET_STAGE_ACTION"}(n||(n={})),function(e){e.SET_LOGGED_USER_ACTION="SET_LOGGED_USER_ACTION",e.RESET_LOGGED_USER_ACTION="RESET_LOGGED_USER_ACTION"}(r||(r={})),function(e){e.SET_LANG_RESOURCES="SET_LANG_RESOURCES"}(i||(i={})),function(e){e.SET_SHOPS_ACTION="SET_SHOPS_ACTION",e.SET_RATINGS_ACTION="SET_RATINGS_ACTION",e.SET_CURRENT_PAGE_ACTION="SET_CURRENT_PAGE_ACTION",e.SHOPS_LOADED="SHOPS_LOADED"}(s||(s={})),function(e){e.SET_CURRENT_CATEGORY_ACTION="SET_CURRENT_CATEGORY_ACTION",e.SET_SELECTIONS_ACTION="SET_SELECTIONS_ACTION"}(o||(o={})),function(e){e.SET_USER="SET_USER"}(c||(c={})),function(e){e.EMPTY="stage-home",e.USER="stage-user",e.CONTACT="stage-contact",e.CAUSES="stage-causes",e.CATEGORIES="stage-categories",e.PRODUCTS="stage-products",e.TOS="stage-tos",e.REVIEW="stage-review",e.PRIVACY="stage-privacy",e.WALLET="stage-wallet"}(l||(l={}));var y,N,C,O,w,k,A,j={stageName:l.EMPTY,previousStage:l.EMPTY},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_STAGE_ACTION:var a=t.payload;return document.body.classList.add(a),Object(S.a)({},e,{stageName:a,previousStage:e.stageName});case n.RESET_STAGE_ACTION:var r=t.payload;return document.body.classList.remove(r),Object(S.a)({},e);default:return e}},x={isLoggedIn:!1,userKey:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_LOGGED_USER_ACTION:return Object(S.a)({},e,{isLoggedIn:!0,userKey:t.payload});case r.RESET_LOGGED_USER_ACTION:return console.log("reset"),Object(S.a)({},x);default:return e}},R={allShops:[],shops:[],ratings:new Map,currentPage:0,shopsLoaded:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.SET_RATINGS_ACTION:return Object(S.a)({},e,{ratings:t.payload});case s.SET_SHOPS_ACTION:return Object(S.a)({},e,{shops:t.payload});case s.SET_CURRENT_PAGE_ACTION:return Object(S.a)({},e,{currentPage:t.payload});case s.SHOPS_LOADED:return Object(S.a)({},e,{allShops:t.payload,shopsLoaded:!0});default:return e}},I={currentCategory:"",selections:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.SET_CURRENT_CATEGORY_ACTION:return Object(S.a)({},e,{currentCategory:t.payload});case o.SET_SELECTIONS_ACTION:return Object(S.a)({},e,{selections:t.payload});default:return e}},P=a(60),z=a.t(P,2),D=a(61),L=a.t(D,2);!function(e){e.TEXT="text",e.NUMBER="number",e.EMAIL="email"}(y||(y={})),function(e){e.CONTACT="contact",e.META="meta",e.FAVORITE_SHOPS="favoriteShops",e.REVIEWS="reviews",e.SHOPS="programs",e.CASES="cases",e.USERS="users",e.POINTS="points",e.COMMISSIONS="commissions",e.REQUESTS="requests",e.OTP_REQUESTS="otp-requests",e.OTPS="otps",e.PROMOTIONS="promotions",e.ACCOUNTS="accounts"}(N||(N={})),function(e){e.PERFORMANT2="2performant",e.PROGRAMS="programs"}(C||(C={})),function(e){e.PROFILE_PHOTOS="profilePhotos/"}(O||(O={})),function(e){e[e.CASHOUT=0]="CASHOUT",e[e.BONUS=1]="BONUS",e[e.DONATION=2]="DONATION",e[e.COMMISSION=3]="COMMISSION"}(w||(w={})),function(e){e[e.pending=0]="pending",e[e.accepted=1]="accepted",e[e.rejected=2]="rejected",e[e.paid=3]="paid"}(k||(k={})),function(e){e.CATEGORIES="/categoriesCD",e.SHOPS="/shopsCD",e.FAVORITE_SHOPS="/favoriteShopsCD",e.CAUSES="/causesCD",e.USER="/userCD",e.LANG="/langCD",e.REVIEWS="/reviewsCD",e.PERFORMANET_2_CODE="/performant2CodeCD"}(A||(A={}));function F(e,t){localStorage.setItem(""+e,t)}function V(e){return localStorage.getItem(""+e)}function G(e){localStorage.removeItem(""+e)}function W(e){return sessionStorage.getItem(""+e)}function q(e){return sessionStorage.removeItem(""+e)}var H=navigator.language.split(/[-_]/)[0],B={ro:P,en:D},J={langResources:{language:"ro"===H||"en"===H?H:"ro",resources:B["ro"===H||"en"===H?H:"ro"]}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.SET_LANG_RESOURCES:return Object(S.a)({},e,{langResources:t.payload});default:if(e){var a=V(A.LANG);a&&(e.langResources="en"===a||"ro"===a?{language:a,resources:B[a]}:{language:"en",resources:B.en})}return Object(S.a)({},e)}},Q={apiKey:"AIzaSyDSVAwViUzdUBWIF_0af2g9LNef93t3qWU",authDomain:"charitydiscount-test.firebaseapp.com",databaseURL:"https://charitydiscount-test.firebaseio.com",projectId:"charitydiscount-test",storageBucket:"charitydiscount-test.appspot.com",messagingSenderId:"328132170246",appId:"1:328132170246:web:43b1a0706ad1d5757da987",measurementId:"G-G5WSP6RF8M"},K=a(35),Z=a.n(K),X=(a(143),a(145),a(148),a(216),a(150),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function $(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ee=a(10),te=a.n(ee),ae=a(16);function ne(e,t){return void 0===t?{type:e}:{type:e,payload:t}}var re,ie=function(e){return ne(r.SET_LOGGED_USER_ACTION,e)},se=function(){return ne(r.RESET_LOGGED_USER_ACTION)},oe=function(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn.signOut();case 2:G(A.USER),t(se());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ce=a(5),le=a(4),ue=a(6),me=a(7),pe=a(8),de=a(19);!function(e){e.LOGIN="/",e.CONTACT="/contact",e.USER="/user",e.CATEGORIES="/categories",e.CAUSES="/causes",e.WALLET="/wallet",e.REVIEW="/review",e.TOS="/tos",e.FAQ="/faq",e.PRIVACY="/privacy",e.PRODUCTS="/products",e.AUTH="/auth"}(re||(re={}));var he=a(1),fe=function(e){return ne(n.SET_STAGE_ACTION,e)},ge=function(e){return ne(n.RESET_STAGE_ACTION,e)},be=function(e){var t=e.autocomplete?"on":"off";return u.createElement("input",{id:e.id,type:e.type,required:e.isRequired,onChange:e.handleChange,onKeyUp:e.onKeyUp,onBlur:e.handleChangeBlur,onFocus:e.handleChangeFocus,value:e.value,className:e.className,name:e.groupName,min:e.min,max:e.max,checked:e.checked,autoComplete:t,placeholder:e.placeholder,readOnly:e.readonly,step:e.step})},Ee=a(242),ve=a(73),Se=a(56);function ye(){return new Promise((function(e,t){var a=W(A.PERFORMANET_2_CODE);if(a){var n=JSON.parse(a);if(!(n.length<=0||void 0===n[0])&&n[0].hasOwnProperty("uniqueCode")&&n[0].hasOwnProperty("percentage"))return void e();q(A.PERFORMANET_2_CODE)}yn.collection(N.META).doc(C.PERFORMANT2).get().then((function(a){if(a.exists){var n=a.data();r=A.PERFORMANET_2_CODE,i=JSON.stringify(n),sessionStorage.setItem(""+r,i),e()}else t();var r,i})).catch((function(){t()}))}))}var Ne=a(11),Ce={ro:P,en:D},Oe=function(e){return ne(i.SET_LANG_RESOURCES,e)};function we(){var e=Object(Se.a)(["\n    height: 0px !important;\n"]);return we=function(){return e},e}function ke(){var e=Object(Se.a)(["\n    display: block;\n    margin: 50px auto;\n"]);return ke=function(){return e},e}function Ae(){var e=Object(Se.a)(["\n    display: block;\n    margin: 200px auto;\n"]);return Ae=function(){return e},e}function je(e,t){if(!Nn.currentUser)throw Error("User not logged in");return"https://event.2performant.com/events/click?ad_type=quicklink"+("&aff_code="+function(){var e=W(A.PERFORMANET_2_CODE);return e?JSON.parse(e).uniqueCode:"6586acf43"}())+("&unique="+e)+("&redirect_to="+t)+("&st="+Nn.currentUser.uid)}function Te(e,t){if(!Nn.currentUser)throw Error("User not logged in");return e.replace("{programUniqueCode}",t).replace("{userId}",Nn.currentUser.uid)}function xe(e){if(!Nn.currentUser)throw Error("User not logged in");return e+("&st="+Nn.currentUser.uid)}var _e=Object(Ne.css)(Ae()),Re=Object(Ne.css)(ke()),Me=Object(Ne.css)(we());function Ie(e){return!!e&&e.trim().length}function Ue(e){var t;F(A.LANG,e.value),vn.dispatch((t=e.value,function(e){e(Oe("en"===t?{language:"en",resources:Ce.en}:{language:"ro",resources:Ce.ro}))}))}function Pe(e){var t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),a=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(window.location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}function ze(e){return e.toFixed(2)}function De(e){return e.toFixed(2)}var Le={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Fe=a(30),Ve=a.n(Fe);function Ge(e,t,a,n,r){var i={name:e,email:t,message:n,subject:r,userId:a};return yn.collection(N.CONTACT).add(i)}var We=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={subject:"",message:"",modalVisible:!1,modalMessage:""},a.handleSendMessage=a.handleSendMessage.bind(Object(he.a)(a)),a.closeModal=a.closeModal.bind(Object(he.a)(a)),a.escFunction=a.escFunction.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"escFunction",value:function(e){27===e.keyCode&&this.closeModal()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1),vn.dispatch(fe(l.CONTACT))}},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.CONTACT))}},{key:"handleSendMessage",value:function(){var e=Object(ae.a)(te.a.mark((function e(t){var a=this;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie(this.state.subject)){e.next=3;break}return this.setState({modalVisible:!0,modalMessage:this.props.intl.formatMessage({id:"contact.subject.wrong"})}),e.abrupt("return");case 3:if(Ie(this.state.message)){e.next=6;break}return this.setState({modalVisible:!0,modalMessage:this.props.intl.formatMessage({id:"contact.message.wrong"})}),e.abrupt("return");case 6:if(!Nn.currentUser){e.next=9;break}return e.next=9,Ge(Nn.currentUser.displayName,Nn.currentUser.email,Nn.currentUser.uid,this.state.message,this.state.subject).then((function(){a.setState({modalVisible:!0,modalMessage:a.props.intl.formatMessage({id:"contact.sendMessage.ok"}),subject:"",message:""})})).catch((function(){a.setState({modalVisible:!0,modalMessage:a.props.intl.formatMessage({id:"contact.sendMessage.not.ok"})})}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"closeModal",value:function(){this.setState({modalVisible:!1})}},{key:"render",value:function(){var e=this;return u.createElement(u.Fragment,null,u.createElement(Ve.a,{visible:this.state.modalVisible,effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},this.state.modalMessage?u.createElement("h3",{style:{padding:15}},this.state.modalMessage):""),u.createElement("section",{className:"contact_area p_120"},u.createElement("div",{className:"container"},u.createElement("div",{className:"row"},u.createElement("div",{className:"col-lg-2"}),u.createElement("div",{className:"col-lg-3"},u.createElement("div",{className:"contact_info"},u.createElement("div",{className:"info_item"},u.createElement("i",{className:"fa fa-envelope"}),u.createElement("h6",null,u.createElement("a",{href:"#"}," ","support@mail.charitydiscount.ro")),u.createElement("p",null,u.createElement(Ee.a,{id:"contact.mail.label",defaultMessage:"Send us your message anytime!"}))),u.createElement("div",{className:"info_item"},u.createElement("a",{href:"https://www.facebook.com/charitydiscount",target:"_blank",rel:"noopener noreferrer"},u.createElement("i",{className:"fa fa-facebook"})),u.createElement("h6",null,u.createElement("a",{href:"https://www.facebook.com/charitydiscount",target:"_blank",rel:"noopener noreferrer"},"Charity Discount Facebook"))),u.createElement("br",null),u.createElement("div",{className:"info_item"},u.createElement("a",{href:"https://www.instagram.com/charitydiscount/",target:"_blank",rel:"noopener noreferrer"},u.createElement("i",{className:"fa fa-instagram"})),u.createElement("h6",null,u.createElement("a",{href:"https://www.instagram.com/charitydiscount/",target:"_blank",rel:"noopener noreferrer"},"Charity Discount Instagram"))))),u.createElement("div",{className:"col-lg-6"},u.createElement("div",{className:"row contact_form"},u.createElement("div",{className:"col-md-9"},u.createElement("div",{className:"form-group"},u.createElement(be,{className:"form-control",placeholder:this.props.intl.formatMessage({id:"contact.subject"}),value:this.state.subject,type:y.TEXT,id:"subject",handleChange:function(t){return e.setState({subject:t.target.value})}})),u.createElement("div",{className:"form-group"},u.createElement("textarea",{className:"form-control",id:"message",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})},placeholder:this.props.intl.formatMessage({id:"contact.message"})})),u.createElement("div",{className:"col-md-12 text-right"},u.createElement("button",{type:"submit",value:"submit",className:"btn submit_btn",onClick:this.handleSendMessage},u.createElement(Ee.a,{id:"contact.send.message.button",defaultMessage:"Send Message"}))))))))))}}]),t}(u.Component),qe=Object(ve.c)(We),He=a(3),Be=a(53);function Je(){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(ae.a)(te.a.mark((function e(){var t,a,n,r,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nn.currentUser){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,yn.collection(N.FAVORITE_SHOPS).doc(Nn.currentUser.uid).get();case 4:if((t=e.sent).exists){e.next=7;break}return e.abrupt("return",[]);case 7:return a=Object.values(t.data().programs),(n=V(A.SHOPS))&&(r=a.map((function(e){return e.id})),i=(i=JSON.parse(n)).filter((function(e){return r.includes(e.id)})),a=i),F(A.FAVORITE_SHOPS,JSON.stringify(a)),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){var t=V(A.FAVORITE_SHOPS);if(t&&JSON.parse(t).find((function(t){return t.id===e})))return!0;return!1}function Ke(){return(Ke=Object(ae.a)(te.a.mark((function e(t,a){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nn.currentUser){e.next=2;break}throw Error("User not logged in");case 2:if(n=yn.collection(N.FAVORITE_SHOPS).doc(Nn.currentUser.uid),!a){e.next=7;break}return e.abrupt("return",n.update(Object(He.a)({},"programs.".concat(t.uniqueCode),K.firestore.FieldValue.delete())));case 7:return e.next=9,n.get();case 9:if(!e.sent.exists){e.next=14;break}return e.abrupt("return",n.update(Object(He.a)({},"programs.".concat(t.uniqueCode),t)));case 14:return e.abrupt("return",n.set(Object(He.a)({userId:Nn.currentUser.uid},"programs.".concat(t.uniqueCode),t)));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ze,Xe=function(){var e=Object(ae.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.collection(N.SHOPS).doc("all").get();case 2:if((t=e.sent).exists){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",Object.entries(t.data()||{}).filter((function(e){var t=Object(Be.a)(e,2),a=t[0],n=t[1];return"updatedAt"!==a&&"active"===n.status})).map((function(e){var t=Object(Be.a)(e,2),a=(t[0],t[1]);return a.uiCommission=$e(a,!1),a.commission=$e(a,!0),a.affiliateUrl?a.computeUrl=Te(a.affiliateUrl,a.uniqueCode):a.computeUrl=je(a.uniqueCode,a.mainUrl),a})).sort((function(e,t){return e.mainOrder&&t.mainOrder?e.mainOrder-t.mainOrder:e.mainOrder?e.mainOrder-t.order:t.mainOrder?e.order-t.mainOrder:e.order-t.order})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function $e(e,t){var a="",n=function(){var e=W(A.PERFORMANET_2_CODE);return e?JSON.parse(e).percentage:.6}();if(e.defaultSaleCommissionRate&&Ze[e.defaultSaleCommissionType])switch(Ze[e.defaultSaleCommissionType].toString()){case Ze.fixed.toString():a=ze(parseFloat(e.defaultSaleCommissionRate)*n)+" "+e.currency;break;case Ze.variable.toString():a=!t&&e.commissionInterval?e.commissionInterval+" %":(t?"":"~ ")+ze(parseFloat(e.defaultSaleCommissionRate)*n)+" %";break;case Ze.percent.toString():a=ze(parseFloat(e.defaultSaleCommissionRate)*n)+" %"}if(e.defaultLeadCommissionAmount&&!e.defaultSaleCommissionRate&&Ze[e.defaultLeadCommissionType])switch(Ze[e.defaultLeadCommissionType].toString()){case Ze.variable.toString():a=!t&&e.commissionInterval?e.commissionInterval+" %":(t?"":"~ ")+ze(parseFloat(e.defaultLeadCommissionAmount)*n)+" "+e.currency;break;case Ze.fixed.toString():a=ze(parseFloat(e.defaultLeadCommissionAmount)*n)+" "+e.currency}return a}!function(e){e[e.fixed=0]="fixed",e[e.variable=1]="variable",e[e.percent=2]="percent"}(Ze||(Ze={}));var et=function(e){return ne(s.SET_SHOPS_ACTION,e)},tt=function(e){return ne(s.SET_RATINGS_ACTION,e)},at=function(e){return ne(s.SET_CURRENT_PAGE_ACTION,e)},nt=function(e){return ne(s.SHOPS_LOADED,e)};function rt(e){if(e)return function(t){t(et(e))}}function it(e){if(void 0!==e)return function(t){t(at(e))}}var st=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).updateShops=a.updateShops.bind(Object(he.a)(a)),a.onToggle=a.onToggle.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"onToggle",value:function(){this.props.onToggle(this.props.id,this.props.name)}},{key:"updateShops",value:function(e){var t=this;if(e.preventDefault(),"All"===this.props.name)this.props.setShops(this.props.allShops),this.props.setCurrentPage(0);else{var a=this.props.allShops.filter((function(e){return e.category.toLowerCase()===t.props.name.toLowerCase()}));this.props.setShops(a),this.props.setCurrentPage(0)}this.onToggle(),window.scrollTo(0,0)}},{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement("li",null,u.createElement("a",{href:"#",id:this.props.name.toString(),style:this.props.selected?{color:"blue"}:void 0,onClick:this.updateShops},u.createElement(Ee.a,{id:this.props.name.replace(/\s/g,"")}))))}}]),t}(u.Component),ot=Object(h.c)((function(e){return{allShops:e.shops.allShops}}),(function(e){return{setShops:function(t){return e(rt(t))},setCurrentPage:function(t){return e(it(t))}}}))(st);var ct=function(e){return ne(o.SET_CURRENT_CATEGORY_ACTION,e)},lt=function(e){return ne(o.SET_SELECTIONS_ACTION,e)};function ut(e){return function(t){t(ct(e))}}function mt(e){if(e)return function(t){t(lt(e))}}var pt=a(27),dt=a.n(pt),ht=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={isLoading:!0,categories:[]},a.onChildToggle=a.onChildToggle.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vn.dispatch(fe(l.CATEGORIES)),e.prev=1,e.next=4,new Promise((function(e,t){var a=V(A.CATEGORIES);if(a)try{var n=JSON.parse(a);if(!(n.length<=0||void 0===n[0])&&n[0].hasOwnProperty("category"))return void e(JSON.parse(a));G(A.CATEGORIES)}catch(r){G(A.CATEGORIES)}yn.collection(N.META).doc(C.PROGRAMS).get().then((function(a){if(a.exists){var n=[];n.push({category:"All"}),a.data().categories.forEach((function(e){return n.push({category:e})})),F(A.CATEGORIES,JSON.stringify(n)),e(n)}else t()})).catch((function(){t()}))}));case 4:t=e.sent,this.setState({categories:t,isLoading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({isLoading:!0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"onChildToggle",value:function(e,t){var a=[];a[e]=!0,this.props.setSelections(a),this.props.setCurrentCategory(t)}},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.CATEGORIES))}},{key:"render",value:function(){var e=this;return u.createElement(u.Fragment,null,u.createElement("aside",{className:"left_widgets cat_widgets"},u.createElement("div",{className:"l_w_title"},u.createElement("h3",null,u.createElement(Ee.a,{id:"categories.title",defaultMessage:"Categories"}),this.props.currentCategory&&this.props.currentCategory.length>0?" / ":null,this.props.currentCategory&&this.props.currentCategory.length>0?u.createElement(Ee.a,{id:this.props.currentCategory.replace(/\s/g,"")}):null)),u.createElement("div",{className:"widgets_inner"},u.createElement("ul",{className:"list"},!this.state.isLoading&&u.createElement(u.Fragment,null,this.state.categories.map((function(t){return u.createElement(ot,{key:t.category,name:t.category,selected:e.props.selections&&e.props.selections[t.category],id:t.category,onToggle:e.onChildToggle})}))),u.createElement(dt.a,{loading:this.state.isLoading,color:"#1641ff",css:_e})))))}}]),t}(u.Component),ft=Object(h.c)((function(e){return{currentCategory:e.category.currentCategory,selections:e.category.selections}}),(function(e){return{setCurrentCategory:function(t){return e(ut(t))},setSelections:function(t){return e(mt(t))}}}))(ht),gt=a(64),bt=a.n(gt);var Et=function(e,t,a,n){var r=n.userId,i=n.name,s=n.photoUrl;return yn.collection(N.REVIEWS).doc(e).get().then((function(n){return n.exists?n.ref.update(Object(He.a)({},"reviews.".concat(r),{reviewer:{userId:r,name:i,photoUrl:s},rating:t,description:a,createdAt:K.firestore.FieldValue.serverTimestamp()})):n.ref.set({reviews:Object(He.a)({},r,{reviewer:{userId:r,name:i,photoUrl:s},rating:t,description:a,createdAt:K.firestore.FieldValue.serverTimestamp()}),shopUniqueCode:e})}))},vt=a(28),St=function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nn.currentUser){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",yn.collection(N.PROMOTIONS).doc("".concat(t)).get().then((function(e){return e.exists?yt(e.data()||{}):[]})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(e){var t=Date.now();return Object.values(e).reduce((function(e,a){return Date.parse(a.promotionStart)<=t&&t<=Date.parse(a.promotionEnd)?e.concat(a):e}),[])},Nt=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.shops.find((function(e){return e.id===t.props.promotion.program.id}));return a&&(e=this.props.promotion.affiliateUrl?Te(this.props.promotion.affiliateUrl,a.uniqueCode):je(a.uniqueCode,this.props.promotion.landingPageLink)),u.createElement(u.Fragment,null,u.createElement("tr",null,u.createElement("td",null,e&&u.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:this.props.comingFromShopReview?{}:{maxWidth:300}},this.props.promotion.name),!e&&u.createElement("p",{style:this.props.comingFromShopReview?{}:{maxWidth:300}},this.props.promotion.name))))}}]),t}(u.Component),Ct=Object(h.c)((function(e){return{shops:e.shops.allShops}}))(Nt),Ot=a(243),wt=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={favShop:!1,promotions:[],promotionLoading:!0},a.updateFavoriteShops=a.updateFavoriteShops.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qe(this.props.shop.id)&&this.setState({favShop:!0}),e.next=3,St(this.props.shop.id);case 3:(t=e.sent)?this.setState({promotions:t,promotionLoading:!1}):this.setState({promotionLoading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateFavoriteShops",value:function(e){this.setState({favShop:!e});try{(function(e,t){return Ke.apply(this,arguments)})(this.props.shop,e).then((function(){Je()}))}catch(t){alert(this.props.intl.formatMessage({id:"favorite.shop.failed.to.update"}))}}},{key:"render",value:function(){var e=this,t=this.props.shop.sellingCountries&&this.props.shop.sellingCountries.length>0&&this.props.shop.sellingCountries.map((function(e){return e.name})).join(", "),a=this.state.promotions&&this.state.promotions.length>0&&this.state.promotions.filter((function(e){var t=new Date(e.promotionStart),a=new Date(e.promotionEnd);return t<new Date&&a>new Date})).map((function(t){return u.createElement(Ct,{key:t.id,promotion:t,comingFromShopReview:e.props.comingFromShopReview})})),n=[1,2,3,4,5].map((function(t){return t<=e.props.shop.reviewsRating?u.createElement("i",{key:"star-".concat(t),className:"fa fa-star star-focus fa-lg"}):u.createElement("i",{key:"star-".concat(t),className:"fa fa-star-o star-focus fa-lg"})}));return u.createElement(u.Fragment,null,u.createElement("div",{className:"text-center p-4"},!this.props.comingFromShopReview&&u.createElement("div",{style:{textAlign:"right"}},u.createElement("i",{onClick:this.props.onCloseModal,className:"fa fa-times"})),u.createElement("h4",{className:"blue-color"},u.createElement(Ee.a,{id:"shop.cashback",defaultMessage:"Cashback:"}),this.props.shop.uiCommission,u.createElement("br",null),u.createElement("small",{className:"text-muted text-small"},u.createElement(Ee.a,{id:"shop.cashback.without.vat.and.transport",defaultMessage:"of the value without VAT and transport"}))),u.createElement("h6",null,this.props.shop.averagePaymentTime?u.createElement("span",null,u.createElement(Ee.a,{id:"average.waiting.time",defaultMessage:"Average waiting time: "}),this.props.shop.averagePaymentTime,u.createElement(Ee.a,{id:"average.waiting.time.days",defaultMessage:" days"})):""),u.createElement("img",{src:this.props.shop.logoPath,alt:""}),u.createElement("div",{className:"blog_details"},u.createElement("h2",null,this.props.shop.name),u.createElement("h6",{style:this.props.comingFromShopReview?{}:{maxWidth:300}},u.createElement(Ee.a,{id:"shop.available.in",defaultMessage:"Available in: "}),t),u.createElement("h5",{style:this.props.comingFromShopReview?{}:{maxWidth:300}},u.createElement(Ee.a,{id:"shop.category",defaultMessage:"Category:"}),this.props.shop.category&&u.createElement(Ee.a,{id:this.props.shop.category.replace(/\s/g,"")})),u.createElement("div",{className:"mt-4"},this.props.shop.reviewsRating?u.createElement(vt.a,{to:re.REVIEW+"/"+this.props.shop.id},u.createElement("p",{className:"mt-4"},n,u.createElement("span",null," ","(",this.props.shop.totalReviews,")"))):this.props.comingFromShopReview?"":u.createElement(vt.a,{to:re.REVIEW+"/"+this.props.shop.id},u.createElement(Ot.a,{color:"secondary"},u.createElement("span",{className:"text-lowercase"},this.props.intl.formatMessage({id:"review.tell.us"}))))),u.createElement("div",{className:"s_product_text",style:{marginTop:20,marginBottom:20}},u.createElement("div",{className:"card_area p_20"},u.createElement("a",{href:this.props.shop.computeUrl,target:"_blank",rel:"noopener noreferrer",className:"main_btn"},u.createElement(Ee.a,{id:"shop.access.button",defaultMessage:"Access"})),u.createElement("div",{style:{padding:0},className:"icon_btn p_icon"},u.createElement("a",{href:"#",onClick:function(){return e.updateFavoriteShops(e.state.favShop)}},u.createElement("i",{className:this.state.favShop?"fa fa-heart":"fa fa-heart-o"})))))),!this.state.promotionLoading&&u.createElement(u.Fragment,null,a&&a.length>0&&u.createElement("div",null,u.createElement("h3",null,u.createElement(Ee.a,{id:"shop.promotions",defaultMessage:"Promotions"})),u.createElement("div",{className:"table-responsive",style:this.props.comingFromShopReview?{}:{overflowY:"auto",maxHeight:200}},u.createElement("table",{className:"table",style:this.props.comingFromShopReview?{}:{maxWidth:300}},u.createElement("tbody",null,a)))))))}}]),t}(u.Component),kt=Object(ve.c)(wt),At=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={visible:!1},a.openModal=a.openModal.bind(Object(he.a)(a)),a.closeModal=a.closeModal.bind(Object(he.a)(a)),a.escFunction=a.escFunction.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"escFunction",value:function(e){27===e.keyCode&&this.closeModal()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"openModal",value:function(){this.setState({visible:!0})}},{key:"render",value:function(){var e=this;return u.createElement(u.Fragment,null,u.createElement(Ve.a,{visible:this.state.visible,effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},this.state.visible&&u.createElement(kt,{key:"shop"+this.props.shop.name,onCloseModal:this.closeModal,shop:this.props.shop})),u.createElement("div",{className:"col-md-3 col-sm-6 f_p_item p-2",onClick:function(){return e.openModal()},style:{cursor:"pointer"}},u.createElement("h6",{className:"blue-color"},this.props.shop.uiCommission),u.createElement("div",{className:"f_p_img d-flex"},u.createElement("img",{className:"img-fluid img-min img align-self-center",src:this.props.shop.logoPath,alt:""})),u.createElement("h4",null,this.props.shop.name)))}}]),t}(u.Component),jt=Object(ve.c)(At),Tt=a(247),xt=a(251),_t=a(256),Rt=a(255),Mt=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={isLoading:!0,reviewsSort:""},a.onSearchUpdate=a.onSearchUpdate.bind(Object(he.a)(a)),a.onSearchUpdateEvent=a.onSearchUpdateEvent.bind(Object(he.a)(a)),a.updatePageNumber=a.updatePageNumber.bind(Object(he.a)(a)),a.sortAfterReviewsNumber=a.sortAfterReviewsNumber.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t,a,n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),window.location.reload();case 8:return this.props.setShops(this.props.allShops),e.prev=9,e.next=12,Je();case 12:t=e.sent,(a=this.props.match.params.favShops)&&"favShops"===a&&(t&&this.props.setShops(t),this.props.setCurrentCategory("Favorite Shops"),this.props.setSelections([])),e.next=19;break;case 17:e.prev=17,e.t1=e.catch(9);case 19:return e.prev=19,e.next=22,new Promise((function(e,t){var a=V(A.REVIEWS);if(a)try{if(!(JSON.parse(a).length<=0))return void e(JSON.parse(a));G(A.REVIEWS)}catch(n){G(A.REVIEWS)}yn.collection(N.META).doc(C.PROGRAMS).get().then((function(a){if(a.exists){var n=a.data();F(A.REVIEWS,JSON.stringify(n.ratings)),e(n.ratings)}else t()})).catch((function(){t()}))}));case 22:(n=e.sent)&&this.props.setRatings(new Map(Object.entries(n))),e.next=28;break;case 26:e.prev=26,e.t2=e.catch(19);case 28:(r=this.props.match.params.shopName)&&this.onSearchUpdate(r),vn.dispatch(fe(l.CATEGORIES)),this.setState({isLoading:!1});case 32:case"end":return e.stop()}}),e,this,[[0,5],[9,17],[19,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"onSearchUpdateEvent",value:function(e){this.onSearchUpdate(e.target.value)}},{key:"onSearchUpdate",value:function(e){if(e){var t=this.props.allShops.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));t&&(this.props.setShops(t),this.props.setSelections([]),this.props.setCurrentCategory(String("")),this.props.setCurrentPage(0),this.setState({isLoading:!1}))}else this.props.setShops(this.props.allShops),this.props.setSelections([]),this.props.setCurrentCategory(String("")),this.props.setCurrentPage(0),this.setState({isLoading:!1})}},{key:"sortAfterReviewsNumber",value:function(e){var t=this;if(this.setState({reviewsSort:e.target.value}),e.target.value){var a=e.target.value,n=this.props.shops.map((function(e){var a=t.props.ratings.get(e.uniqueCode);return e.reviewsRating=a?a.rating:0,e.totalReviews=a?a.count:0,e}));"ascReview"===a||"descReview"===a?n.sort((function(e,t){var n=e.totalReviews,r=t.totalReviews;if("ascReview"===a){if(n>r)return 1;if(n<r)return-1}else{if(n>r)return-1;if(n<r)return 1}return 0})):"ascCommission"===a||"descCommission"===a?n.sort((function(e,t){var n=parseFloat(e.commission),r=parseFloat(t.commission);if("ascCommission"===a){if(n>r)return 1;if(n<r)return-1}else{if(n>r)return-1;if(n<r)return 1}return 0})):"ascAtoZ"!==a&&"descAtoZ"!==a||n.sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();if("ascAtoZ"===a){if(n>r)return 1;if(n<r)return-1}else{if(n>r)return-1;if(n<r)return 1}return 0})),this.props.setShops(n)}}},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.CATEGORIES))}},{key:"updatePageNumber",value:function(e){window.innerWidth>800?window.scrollTo(0,0):window.scrollTo(0,1100),this.props.setCurrentPage(e.selected)}},{key:"render",value:function(){var e=this,t=this.props.shops&&this.props.ratings&&this.props.shops.length>0&&this.props.ratings.size>0?this.props.shops.map((function(t){var a=e.props.ratings.get(t.uniqueCode);return t.reviewsRating=a?a.rating:0,t.totalReviews=a?a.count:0,u.createElement(jt,{key:"list"+t.name,shop:t})})):null,a=0;if(this.props.shops&&this.props.ratings&&this.props.shops.length>0&&this.props.ratings.size>0)if(this.props.shops.length>20){a=this.props.shops.length/20;var n=this.props.currentPage;t=this.props.shops.slice(20*n,20*(n+1)).map((function(t){var a=e.props.ratings.get(t.uniqueCode);return t.reviewsRating=a?a.rating:0,t.totalReviews=a?a.count:0,u.createElement(jt,{key:"list"+t.name,shop:t})}))}else a=1;return u.createElement(u.Fragment,null,u.createElement("section",{className:"cat_product_area section_gap"},u.createElement("div",{className:"container-fluid"},u.createElement("div",{className:"row"},u.createElement("div",{className:"col-lg-3"},u.createElement("div",{className:"left_sidebar_area"},u.createElement(ft,null))),u.createElement("div",{className:"col-lg-9"},u.createElement("div",{className:"product_top_bar"},u.createElement(be,{type:"textfield",id:"search",className:"single-input",placeholder:this.props.intl.formatMessage({id:"shops.search"}),onKeyUp:this.onSearchUpdateEvent})),u.createElement("div",{className:"product_top_bar"},u.createElement("div",{className:"col-lg-3"},u.createElement(Tt.a,{fullWidth:!0},u.createElement(Rt.a,null,u.createElement(Ee.a,{id:"sort.key",defaultMessage:"Sort"})),u.createElement(xt.a,{MenuProps:{disableScrollLock:!0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"}},labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.reviewsSort,onChange:this.sortAfterReviewsNumber},u.createElement(_t.a,{value:""},u.createElement(Ee.a,{id:"none.key",defaultMessage:"None"})),u.createElement(_t.a,{value:"ascAtoZ"},u.createElement(Ee.a,{id:"shops.filters.sorting.atoz.asc",defaultMessage:"Sort after name ascending"})),u.createElement(_t.a,{value:"descAtoZ"},u.createElement(Ee.a,{id:"shops.filters.sorting.atoz.desc",defaultMessage:"Sort after name descending"})),u.createElement(_t.a,{value:"ascCommission"},u.createElement(Ee.a,{id:"shops.filters.sorting.commission.ascending",defaultMessage:"Sort after commissions ascending"})),u.createElement(_t.a,{value:"descCommission"},u.createElement(Ee.a,{id:"shops.filters.sorting.commission.descending",defaultMessage:"Sort after commissions descending"})),u.createElement(_t.a,{value:"ascReview"},u.createElement(Ee.a,{id:"shops.filters.sorting.ascending",defaultMessage:"Sort after review numbers ascending"})),u.createElement(_t.a,{value:"descReview"},u.createElement(Ee.a,{id:"shops.filters.sorting.descending",defaultMessage:"Sort after review numbers descending"}))))),u.createElement("div",{className:"right_page ml-auto d-none d-md-block"},u.createElement("nav",{className:"cat_page","aria-label":"Page navigation example"},u.createElement(bt.a,{previousLabel:"<",previousLinkClassName:"page-link",nextLabel:">",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"blank",breakLinkClassName:"page-link",pageCount:a,marginPagesDisplayed:1,pageRangeDisplayed:2,forcePage:this.props.currentPage,onPageChange:this.updatePageNumber,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",activeClassName:"active"})))),u.createElement(dt.a,{loading:this.state.isLoading,color:"#1641ff",css:_e}),u.createElement("div",{className:"latest_product_inner row d-flex align-items-stretch"},!this.state.isLoading&&u.createElement(u.Fragment,null,t)))),u.createElement("div",{className:"row"},u.createElement("nav",{style:{marginTop:30},className:"cat_page mx-auto","aria-label":"Page navigation example"},u.createElement("div",{className:"right_page ml-auto"},u.createElement("nav",{className:"cat_page","aria-label":"Page navigation example"},u.createElement(bt.a,{previousLabel:"<",previousLinkClassName:"page-link",nextLabel:">",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"blank",breakLinkClassName:"page-link",pageCount:a,marginPagesDisplayed:1,pageRangeDisplayed:2,forcePage:this.props.currentPage,onPageChange:this.updatePageNumber,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",activeClassName:"active"}))))))))}}]),t}(u.Component),It=Object(h.c)((function(e){return{shops:e.shops.shops,allShops:e.shops.allShops,ratings:e.shops.ratings,currentPage:e.shops.currentPage}}),(function(e){return{setShops:function(t){return e(rt(t))},setRatings:function(t){return e(function(e){if(e)return function(t){t(tt(e))}}(t))},setCurrentPage:function(t){return e(it(t))},setCurrentCategory:function(t){return e(ut(t))},setSelections:function(t){return e(mt(t))}}}))(Object(ve.c)(Mt)),Ut=a(116),Pt=a.n(Ut);function zt(e){var t=a(169)(e,Dt);return e.metadata.creationTime&&(t.creationTime=e.metadata.creationTime),t.locale="",F(A.USER,JSON.stringify(t)),JSON.stringify(t)}var Dt={uid:"uid",photoURL:"photoURL",displayName:"displayName",email:"email"},Lt=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ue.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).uiConfig={signInFlow:"popup",tosUrl:"/tos",signInSuccessUrl:"/categories",privacyPolicyUrl:"/privacy",signInOptions:[Z.a.auth.EmailAuthProvider.PROVIDER_ID,Z.a.auth.GoogleAuthProvider.PROVIDER_ID,Z.a.auth.FacebookAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:t.onSignInSuccess}},a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement("section",{className:"login_box_area pb-4 pt-2"},u.createElement("div",{className:"container"},u.createElement("div",{className:"d-flex flex-column align-items-center"},u.createElement("div",{className:"d-lg-flex"},u.createElement("div",{className:"d-flex justify-content-center"},u.createElement("img",{src:"/img/charity_discount.png",alt:"Charity Discount Logo",height:"200px"}))),u.createElement("div",{className:"d-flex align-items-center flex-column mt-4 mt-md-0 justify-content-center"},u.createElement(Pt.a,{lang:this.props.currentLocale,config:this.uiConfig,auth:Nn,firebase:Z.a,className:"mx-auto"}))))))}}],[{key:"onSignInSuccess",value:function(e){return zt(e.user),!0}}]),t}(u.Component),Ft=Object(h.c)((function(e){return{currentLocale:e.locale.langResources.language}}))(Lt),Vt=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.verifyUserLoggedInFirebase(),vn.dispatch(fe(l.EMPTY));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.EMPTY))}},{key:"verifyUserLoggedInFirebase",value:function(){Nn.onAuthStateChanged((function(e){e||(vn.dispatch(se()),G(A.USER))}))}},{key:"render",value:function(){return G(A.CAUSES),G(A.SHOPS),G(A.FAVORITE_SHOPS),G(A.CATEGORIES),G(A.REVIEWS),q(A.PERFORMANET_2_CODE),this.props.isUserLogged?u.createElement(de.a,{to:re.CATEGORIES}):u.createElement(Ft,null)}}]),t}(u.Component),Gt=Object(h.c)((function(e){return{isUserLogged:e.user.isLoggedIn}}))(Vt),Wt=a(117),qt=a.n(Wt),Ht=function(e){return Cn.ref(O.PROFILE_PHOTOS+e).child("profilePicture.png").getDownloadURL()},Bt=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={photoURL:"",displayName:"",email:"",userId:"",modalVisible:!1,normalUser:!1,modalMessage:"",isLoading:!1,isLoadingPhoto:!1},a.handleLogOut=a.handleLogOut.bind(Object(he.a)(a)),a.closeModal=a.closeModal.bind(Object(he.a)(a)),a.handleUploadError=a.handleUploadError.bind(Object(he.a)(a)),a.handleUploadSuccess=a.handleUploadSuccess.bind(Object(he.a)(a)),a.handleEmailResetSent=a.handleEmailResetSent.bind(Object(he.a)(a)),a.sendPasswordResetEmail=a.sendPasswordResetEmail.bind(Object(he.a)(a)),a.handleRequestDeleteAccount=a.handleRequestDeleteAccount.bind(Object(he.a)(a)),a.escFunction=a.escFunction.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"escFunction",value:function(e){27===e.keyCode&&this.closeModal()}},{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.addEventListener("keydown",this.escFunction,!1),vn.dispatch(fe(l.USER)),!Nn.currentUser){e.next=19;break}if(this.setState({photoURL:Nn.currentUser.photoURL||"",displayName:Nn.currentUser.displayName||"",email:Nn.currentUser.email||"",userId:Nn.currentUser.uid||""}),Nn.currentUser.photoURL){e.next=18;break}return this.setState({isLoadingPhoto:!0,normalUser:!0}),e.prev=6,e.next=9,Ht(Nn.currentUser.uid);case 9:t=e.sent,this.setState({photoURL:t,isLoadingPhoto:!1,normalUser:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),this.setState({photoURL:"/img/no-image.jpg",isLoadingPhoto:!1,normalUser:!0});case 16:e.next=19;break;case 18:this.state.photoURL.includes("facebook")&&this.setState({photoURL:this.state.photoURL+"?height=200",normalUser:!1});case 19:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.USER))}},{key:"handleRequestDeleteAccount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t=this;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==window.confirm(this.props.intl.formatMessage({id:"userInfo.delete.account.question"}))){e.next=6;break}if(!Nn.currentUser){e.next=6;break}return this.setState({isLoading:!0}),e.next=6,Ge(Nn.currentUser.displayName,Nn.currentUser.email,Nn.currentUser.uid,"Request to delete account with id:"+Nn.currentUser.uid,"Delete account with id:"+Nn.currentUser.uid).then((function(){t.setState({modalVisible:!0,isLoading:!1,modalMessage:t.props.intl.formatMessage({id:"userInfo.delete.account.ok"})})})).catch((function(){t.setState({modalVisible:!0,isLoading:!1,modalMessage:t.props.intl.formatMessage({id:"userInfo.delete.account.not.ok"})})}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleLogOut",value:function(e){e.preventDefault(),this.props.logout()}},{key:"handleEmailResetSent",value:function(e){this.setState({modalVisible:!0,isLoading:!1,modalMessage:e?this.props.intl.formatMessage({id:"userInfo.email.reset.sent"}):this.props.intl.formatMessage({id:"userInfo.email.reset.error"})})}},{key:"sendPasswordResetEmail",value:function(){var e=this;this.setState({isLoading:!0}),Nn.sendPasswordResetEmail(this.state.email).then((function(t){return e.handleEmailResetSent(!0)})).catch((function(t){return e.handleEmailResetSent(!1)}))}},{key:"closeModal",value:function(){this.setState({modalVisible:!1,modalMessage:""}),window.location.reload()}},{key:"handleUploadSuccess",value:function(){this.setState({modalVisible:!0,isLoadingPhoto:!1,modalMessage:this.props.intl.formatMessage({id:"userInfo.profile.picture.uploaded"})})}},{key:"handleUploadError",value:function(e){this.setState({modalVisible:!0,isLoadingPhoto:!1,modalMessage:this.props.intl.formatMessage({id:"userInfo.profile.picture.error"})})}},{key:"render",value:function(){var e=this;return u.createElement(u.Fragment,null,u.createElement(dt.a,{loading:this.state.isLoading,color:"#1641ff",css:_e}),u.createElement(Ve.a,{visible:this.state.modalVisible,effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},u.createElement("h3",{style:{padding:15}},this.state.modalMessage)),!this.state.isLoading&&u.createElement("div",{className:"product_image_area"},u.createElement("div",{className:"container p_90"},u.createElement("div",{className:"row s_product_inner"},u.createElement("div",{className:"col-lg-4"}),u.createElement("div",{className:"col-lg-4"},u.createElement("div",{className:"s_product_img"},u.createElement("div",{className:"blog_right_sidebar"},u.createElement("aside",{className:"single_sidebar_widget author_widget"},u.createElement(dt.a,{loading:this.state.isLoadingPhoto,color:"#1641ff",css:Re}),!this.state.isLoadingPhoto&&u.createElement("img",{className:"author_img rounded-circle",src:this.state.photoURL,alt:"Missing",width:200,height:200}),u.createElement("h4",null,this.state.displayName),u.createElement("p",null,this.state.email),u.createElement("div",{className:"br"})),u.createElement("aside",{className:"single_sidebar_widget popular_post_widget"},this.state.normalUser&&u.createElement("div",null,u.createElement("div",{className:"col-md-12 text-center p_05"},u.createElement("a",{href:"#",className:"btn submit_btn userInfo_btn genric-btn circle"},u.createElement("label",{style:{marginBottom:0,minWidth:"100%",borderRadius:20,cursor:"pointer"}},u.createElement(Ee.a,{id:"userinfo.upload.button",defaultMessage:"Upload photo"}),u.createElement(qt.a,{hidden:!0,accept:"image/*",filename:"profilePicture.png",storageRef:Cn.ref(O.PROFILE_PHOTOS+this.state.userId),onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onUploadStart:function(){return e.setState({isLoadingPhoto:!0})}})))),u.createElement("div",{className:"col-md-12 text-center p_05"},u.createElement("a",{href:"#",onClick:this.sendPasswordResetEmail,className:"btn submit_btn userInfo_btn genric-btn circle"},u.createElement(Ee.a,{id:"userinfo.change.password.button",defaultMessage:"Change password"}))),u.createElement("div",{className:"br"})),u.createElement("div",{className:"col-md-12 text-center p_05"},u.createElement("a",{href:"/contact",className:"btn submit_btn userInfo_btn genric-btn circle"},u.createElement(Ee.a,{id:"userinfo.contact.us.button",defaultMessage:"Contact us"}))),u.createElement("div",{className:"col-md-12 text-center p_05"},u.createElement("a",{href:"/tos",className:"btn submit_btn userInfo_btn genric-btn circle"},u.createElement(Ee.a,{id:"userinfo.terms.button",defaultMessage:"Terms of agreement"}))),u.createElement("div",{className:"col-md-12 text-center p_05"},u.createElement("a",{href:"/privacy",className:"btn submit_btn userInfo_btn genric-btn circle"},u.createElement(Ee.a,{id:"userinfo.privacy.button",defaultMessage:"Privacy"}))),u.createElement("div",{className:"col-md-12 text-center p_05"},u.createElement("a",{href:"/faq",className:"btn submit_btn userInfo_btn genric-btn circle"},u.createElement(Ee.a,{id:"userinfo.faq.button",defaultMessage:"Faq"}))),u.createElement("div",{className:"col-md-12 text-center p_05"},u.createElement("a",{href:"#",className:"btn submit_btn userInfo_btn genric-btn circle",onClick:this.handleRequestDeleteAccount},u.createElement(Ee.a,{id:"userinfo.delete.account.button",defaultMessage:"Delete account"}))),u.createElement("div",{className:"col-md-12 text-center p_05"},u.createElement("a",{href:"#",className:"btn submit_btn userInfo_btn genric-btn circle",onClick:this.handleLogOut},u.createElement(Ee.a,{id:"userinfo.logout.button",defaultMessage:"Logout"})))))))))))}}]),t}(u.Component),Jt=Object(h.c)(null,(function(e){return{logout:function(){return e(oe())}}}))(Object(ve.c)(Bt)),Yt=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).setRedirect=function(){a.setState({redirect:!0})},a.renderRedirect=function(){if(a.state.redirect)return u.createElement(de.a,{to:re.WALLET+"/donate/"+a.props.cause.id})},a.state={redirect:!1},a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement(u.Fragment,null,this.renderRedirect(),u.createElement("div",{className:"col-lg-6"},u.createElement("h2",null,this.props.cause.details.title),this.props.cause.details.funds&&u.createElement("h4",null,u.createElement(Ee.a,{id:"cause.donated",defaultMessage:"Donated: "}),this.props.cause.details.funds," RON"),u.createElement("a",{className:"hot_deal_link",target:"_blank",rel:"noopener noreferrer",href:this.props.cause.details.site},u.createElement("div",{className:"hot_deal_box"},u.createElement("img",{src:this.props.cause.details.images[0].url,alt:"",className:"img-fluid"}),u.createElement("div",{className:"content"},"Website"))),u.createElement("br",null),u.createElement("a",{href:"#",className:"btn submit_btn genric-btn circle",onClick:this.setRedirect},u.createElement(Ee.a,{id:"cause.contribute.button",defaultMessage:"Contribute"}))))}}]),t}(u.Component);function Qt(){return new Promise((function(e,t){var a=V(A.CAUSES);if(a)try{var n=JSON.parse(a);if(!(n.length<=0||void 0===n[0])&&n[0].hasOwnProperty("details"))return void e(n);G(A.CAUSES)}catch(r){G(A.CAUSES)}yn.collection(N.CASES).get().then((function(t){var a=[];t.docs.forEach((function(e){a.push({id:e.id,details:e.data()})})),F(A.CAUSES,JSON.stringify(a)),e(a)})).catch((function(){t()}))}))}var Kt=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={causes:[],isLoading:!0},a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qt();case 3:(t=e.sent)&&this.setState({causes:t,isLoading:!1}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:vn.dispatch(fe(l.CAUSES));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.CAUSES))}},{key:"render",value:function(){var e=this.state.causes?this.state.causes.map((function(e){return u.createElement(Yt,{key:e.id,cause:e})})):null;return u.createElement(u.Fragment,null,u.createElement(dt.a,{loading:this.state.isLoading,color:"#1641ff",css:_e}),!this.state.isLoading&&u.createElement("div",{className:"container"},u.createElement("section",{className:"hot_deals_area section_gap"},u.createElement("div",{className:"container-fluid"},u.createElement("div",{className:"row"},e)))))}}]),t}(u.Component),Zt=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={active:!1},a.onUpdate=a.onUpdate.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"onUpdate",value:function(){this.props.onUpdate(this.props.id)}},{key:"render",value:function(){var e=this;return u.createElement(u.Fragment,null,u.createElement("li",{className:this.props.selections[this.props.id]?"active":""},u.createElement("a",{href:"#",onClick:function(){return e.onUpdate()}},this.props.causeTitle)))}}]),t}(u.Component),Xt=function(){if(!Nn.currentUser)throw Error("User not logged in");return yn.collection(N.POINTS).doc(Nn.currentUser.uid).get()},$t=function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nn.currentUser){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",yn.collection(N.COMMISSIONS).doc(Nn.currentUser.uid).get().then((function(e){return e.exists?Object.entries(e.data()).filter((function(e){var t=Object(Be.a)(e,2),a=t[0];t[1];return"userId"!==a})).map((function(e){var t=Object(Be.a)(e,2);t[0];return t[1]})):[]})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ea(){if(!Nn.currentUser)throw Error("User not logged in");return yn.collection(N.OTP_REQUESTS).doc(Nn.currentUser.uid).set({userId:Nn.currentUser.uid,createdAt:K.firestore.FieldValue.serverTimestamp()})}function ta(e){if(!Nn.currentUser)throw Error("User not logged in");return yn.collection(N.OTPS).doc(Nn.currentUser.uid).get().then((function(t){return t.exists&&t.data().code===e})).catch((function(){return!1}))}function aa(e,t,a){if(!Nn.currentUser)throw Error("User not logged in");var n={userId:Nn.currentUser.uid,type:t,amount:e,currency:"RON",target:a,createdAt:K.firestore.FieldValue.serverTimestamp(),status:"PENDING"};return yn.collection(N.REQUESTS).add(n)}function na(e,t){if(!Nn.currentUser)throw Error("User not logged in");return yn.collection(N.USERS).doc(Nn.currentUser.uid).collection(N.ACCOUNTS).doc(t).set({name:e,iban:t},{merge:!0})}var ra=a(257),ia=a(121),sa=a.n(ia),oa=a(120),ca=a.n(oa),la=a(119),ua=a.n(la),ma=a(118),pa=a.n(ma),da=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).firstTxEventReceived=void 0,a.state={cashoutVisible:!1,donateVisible:!1,otpRequestVisible:!1,otpRequestValidateVisible:!1,txType:"",otpCode:void 0,amount:"",targetId:"",name:"",iban:"",selections:[],faderVisible:!1},a.onChildUpdate=a.onChildUpdate.bind(Object(he.a)(a)),a.donate=a.donate.bind(Object(he.a)(a)),a.cashout=a.cashout.bind(Object(he.a)(a)),a.creatRequest=a.creatRequest.bind(Object(he.a)(a)),a.escFunction=a.escFunction.bind(Object(he.a)(a)),a.firstTxEventReceived=!1,a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"escFunction",value:function(e){27===e.keyCode&&this.closeModal()}},{key:"componentDidMount",value:function(){if(this.props.openDonateWithCaseId){var e=[];e[this.props.openDonateWithCaseId]=!0,this.setState({targetId:this.props.openDonateWithCaseId,selections:e,donateVisible:!0})}document.addEventListener("keydown",this.escFunction,!1)}},{key:"openDonateModal",value:function(){this.setState({cashoutVisible:!1,donateVisible:!0})}},{key:"openCashoutModal",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nn.currentUser){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,a=Nn.currentUser.uid,yn.collection(N.USERS).doc(a).collection(N.ACCOUNTS).get().then((function(e){return e.docs.map((function(e){return e.data()}))||[]}));case 5:(t=e.sent)&&t.length>0&&this.setState({name:t[0].name,iban:t[0].iban}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:this.setState({cashoutVisible:!0,donateVisible:!1});case 12:case"end":return e.stop()}var a}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"closeModal",value:function(){this.setState({cashoutVisible:!1,donateVisible:!1,otpRequestVisible:!1,otpRequestValidateVisible:!1,txType:"",otpCode:void 0,amount:"",targetId:"",name:"",iban:"",selections:[]})}},{key:"creatRequest",value:function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.otpCode){e.next=3;break}return alert(this.props.intl.formatMessage({id:"wallet.block.otp.code.error"})),e.abrupt("return");case 3:return e.prev=3,e.next=6,ta(this.state.otpCode);case 6:if(!e.sent){e.next=19;break}return e.prev=8,this.setState({otpRequestValidateVisible:!0}),e.next=12,this.handleTxRequest(parseFloat(this.state.amount),this.state.txType,this.state.targetId);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),this.setState({otpRequestValidateVisible:!1});case 17:e.next=20;break;case 19:alert(this.props.intl.formatMessage({id:"wallet.block.otp.code.worng.error"}));case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(3),alert(this.props.intl.formatMessage({id:"wallet.block.otp.code.worng.error"}));case 25:case"end":return e.stop()}}),e,this,[[3,22],[8,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleTxRequest",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n){var r,i,s=this;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({faderVisible:!0}),e.next=3,aa(t,a,n);case 3:r=e.sent,i=r.onSnapshot((function(e){s.firstTxEventReceived?(i(),s.closeModal(),s.setState({faderVisible:!1}),s.props.onTxCompleted&&s.props.onTxCompleted()):s.firstTxEventReceived=!0}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"cashout",value:function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.state.amount||this.state.amount.length<1||parseFloat(this.state.amount)<50)){e.next=3;break}return alert(this.props.intl.formatMessage({id:"wallet.cashout.amount.error"})),e.abrupt("return");case 3:if(!(parseFloat(this.state.amount)>this.props.approved)){e.next=6;break}return alert(this.props.intl.formatMessage({id:"wallet.cashout.no.amount.error"})),e.abrupt("return");case 6:if(this.state.name){e.next=9;break}return alert(this.props.intl.formatMessage({id:"wallet.cashout.name.error"})),e.abrupt("return");case 9:if(this.state.iban&&pa.a.isValid(this.state.iban)){e.next=12;break}return alert(this.props.intl.formatMessage({id:"wallet.cashout.iban.error"})),e.abrupt("return");case 12:return e.prev=12,e.next=15,na(this.state.name,this.state.iban);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(12);case 19:return e.prev=19,this.setState({faderVisible:!0}),e.next=23,ea();case 23:this.setState({faderVisible:!1,cashoutVisible:!1,otpRequestVisible:!0,txType:"CASHOUT"}),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(19),this.setState({faderVisible:!1});case 29:case"end":return e.stop()}}),e,this,[[12,17],[19,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"donate",value:function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.state.amount||this.state.amount.length<1||parseFloat(this.state.amount)<1)){e.next=3;break}return alert(this.props.intl.formatMessage({id:"wallet.donate.amount.error"})),e.abrupt("return");case 3:if(!(parseFloat(this.state.amount)>this.props.approved)){e.next=6;break}return alert(this.props.intl.formatMessage({id:"wallet.cashout.no.amount.error"})),e.abrupt("return");case 6:if(this.state.targetId){e.next=9;break}return alert(this.props.intl.formatMessage({id:"wallet.donate.cause.error"})),e.abrupt("return");case 9:return e.prev=9,e.next=12,this.handleTxRequest(parseFloat(this.state.amount),"DONATION",this.state.targetId);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),this.setState({faderVisible:!1});case 17:case"end":return e.stop()}}),e,this,[[9,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"onChildUpdate",value:function(e){var t=[];t[e]=!0,this.setState({targetId:e,selections:t})}},{key:"render",value:function(){var e=this,t=this.props.causes?this.props.causes.map((function(t){return u.createElement(Zt,{key:t.id,id:t.id,causeTitle:t.details.title,onUpdate:e.onChildUpdate,selections:e.state.selections})})):null;return u.createElement(u.Fragment,null,u.createElement(Ve.a,{visible:this.state.otpRequestVisible,effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},"(",this.state.otpRequestVisible?u.createElement("div",{className:"container cart_inner"},u.createElement("table",{className:"table"},u.createElement("tbody",null,u.createElement("tr",{className:"shipping_area"},u.createElement("td",null,u.createElement("div",{className:"shipping_box"},"CASHOUT"===this.state.txType&&u.createElement(u.Fragment,null,u.createElement("h3",{className:"important-left-align"},u.createElement(Ee.a,{id:"wallet.block.cashout.confirm.name",defaultMessage:"Account holder name: "}),this.state.name),u.createElement("h3",{className:"important-left-align"},u.createElement(Ee.a,{id:"wallet.block.cashout.confirm.iban",defaultMessage:"IBAN: "}),this.state.iban)),u.createElement("h3",{className:"important-left-align"},u.createElement(Ee.a,{id:"wallet.block.otp.mail.mesasge",defaultMessage:"A mail was sent with the code to validate the transaction."})),u.createElement(ra.a,{id:"otpCode",variant:"filled",style:{width:"100%"},label:this.props.intl.formatMessage({id:"wallet.block.otp.request.placeholder"}),onChange:function(t){return e.setState({otpCode:parseInt(t.target.value)})},value:this.state.otpCode}),u.createElement("div",{className:"p_05"},u.createElement(Ot.a,{variant:"contained",color:"primary",onClick:this.creatRequest,startIcon:u.createElement(ua.a,null)},u.createElement(Ee.a,{id:"wallet.block.otp.proceed",defaultMessage:"Validate "}))))))))):"",")"),u.createElement(Ve.a,{visible:this.state.cashoutVisible,effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},u.createElement(dt.a,{loading:this.state.faderVisible,color:"#ffffff",css:Me}),!this.state.faderVisible&&u.createElement("div",{className:"container cart_inner"},u.createElement("table",{className:"table"},u.createElement("tbody",null,u.createElement("tr",{className:"shipping_area"},u.createElement("td",null,u.createElement("div",{className:"shipping_box"},u.createElement(u.Fragment,null,u.createElement(ra.a,{id:"name",label:this.props.intl.formatMessage({id:"wallet.block.cashout.name"}),onChange:function(t){return e.setState({name:t.target.value})},variant:"filled",style:{width:"100%"},value:this.state.name}),u.createElement(ra.a,{id:"iban",variant:"filled",style:{width:"100%"},label:this.props.intl.formatMessage({id:"wallet.block.cashout.iban"}),onChange:function(t){return e.setState({iban:t.target.value})},value:this.state.iban}),u.createElement("h6",null,u.createElement(Ee.a,{id:"wallet.block.available.amount",defaultMessage:"Available amount: "}),u.createElement("i",{className:"blue-color"},De(this.props.approved)+" RON")),u.createElement("h6",null,u.createElement(Ee.a,{id:"wallet.block.minimum.amount",defaultMessage:"Minimum amount: "}),u.createElement("i",{className:"blue-color"},"50 RON")),u.createElement(ra.a,{id:"amount-text-field-cashout",type:"number",variant:"filled",style:{width:"100%"},inputProps:{min:"50",step:"0.1"},label:this.props.intl.formatMessage({id:"wallet.table.amount"}),onChange:function(t){return e.setState({amount:t.target.value})},value:this.state.amount}),u.createElement("div",{className:"p_05"},u.createElement(Ot.a,{variant:"contained",color:"primary",onClick:this.cashout,startIcon:u.createElement(ca.a,null)},u.createElement(Ee.a,{id:"wallet.block.cashout",defaultMessage:"Cashout "}))))))))))),u.createElement(Ve.a,{visible:this.state.donateVisible,effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},u.createElement(dt.a,{loading:this.state.faderVisible,color:"#ffffff",css:Me}),!this.state.faderVisible&&u.createElement("div",{className:"container cart_inner"},u.createElement("table",{className:"table"},u.createElement("tbody",null,u.createElement("tr",{className:"shipping_area"},u.createElement("td",null,u.createElement("div",{className:"shipping_box"},u.createElement(u.Fragment,null,u.createElement("ul",{className:"list"},t),u.createElement("h6",null,u.createElement(Ee.a,{id:"wallet.block.available.amount",defaultMessage:"Available amount: "}),u.createElement("i",{className:"blue-color"},De(this.props.approved)+" RON")),u.createElement(ra.a,{id:"amount-text-field-donation",type:"number",variant:"filled",style:{width:"100%"},inputProps:{step:"0.1"},label:this.props.intl.formatMessage({id:"wallet.table.amount"}),onChange:function(t){return e.setState({amount:t.target.value})},value:this.state.amount}),u.createElement("div",{className:"p_05"},u.createElement(Ot.a,{variant:"contained",color:"primary",onClick:this.donate,startIcon:u.createElement(sa.a,null)},u.createElement(Ee.a,{id:"wallet.block.donate",defaultMessage:"Donate "}))))))))))),u.createElement(Ve.a,{visible:this.state.otpRequestValidateVisible,effect:"fadeInUp"},u.createElement(dt.a,{loading:this.state.otpRequestValidateVisible,color:"#ffffff",css:Me})),u.createElement("div",{className:"col-lg-6 total_rate"},u.createElement("div",{className:"box_total"},u.createElement("h5",null,this.props.title),u.createElement("h4",null,this.props.approved?De(this.props.approved):0),this.props.pendingExists?u.createElement("div",null,u.createElement("h6",null,u.createElement(Ee.a,{id:"wallet.block.pending",defaultMessage:"Pending:"}),this.props.pending?De(this.props.pending)+" RON":0),this.props.money?u.createElement("div",null,u.createElement("div",null,u.createElement("br",null),u.createElement("a",{href:"#",className:"btn submit_btn genric-btn circle m-2",onClick:function(){return e.openCashoutModal()}},u.createElement(Ee.a,{id:"wallet.block.cashout",defaultMessage:"Cashout"})),u.createElement("a",{href:"#",className:"btn submit_btn genric-btn circle m-2",onClick:function(){return e.openDonateModal()}},u.createElement(Ee.a,{id:"wallet.block.donate",defaultMessage:"Donate"})))):null):null)))}}]),t}(u.Component),ha=Object(h.c)()(Object(ve.c)(da)),fa=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e,t,a=this,n=w[this.props.transaction.type].toString();switch(n){case w.DONATION.toString():var r=V(A.CAUSES),i=[];r&&(i=JSON.parse(r));var s=i.find((function(e){return e.id===a.props.transaction.target}));s&&(e=s.details.title),t=u.createElement("i",{className:"fa fa-heart","aria-hidden":"true",style:{color:"red"},title:this.props.intl.formatMessage({id:"wallet.tx.type.donation"})});break;case w.BONUS.toString():e=this.props.intl.formatMessage({id:"wallet.charity.points"}),t=u.createElement("i",{className:"fa fa-thumbs-up","aria-hidden":"true",style:{color:"blue"},title:this.props.intl.formatMessage({id:"wallet.tx.type.bonus"})});break;case w.CASHOUT.toString():e=this.props.intl.formatMessage({id:"wallet.cashout"}),t=u.createElement("i",{className:"fa fa-money","aria-hidden":"true",title:this.props.intl.formatMessage({id:"wallet.tx.type.cashout"})});break;case w.COMMISSION.toString():Nn.currentUser&&(e=Nn.currentUser.displayName),t=u.createElement("i",{className:"fa fa-money","aria-hidden":"true",style:{color:"green"},title:this.props.intl.formatMessage({id:"wallet.tx.type.commission"})})}return u.createElement(u.Fragment,null,u.createElement("div",{className:"table-row"},u.createElement("div",{className:"country"},this.props.transaction.date.toDate().toLocaleDateString("ro-RO",Le)),u.createElement("div",{className:"country"},u.createElement("h3",null,t)),u.createElement("div",{className:"country"},De(this.props.transaction.amount)," ",this.props.intl.formatMessage({id:this.props.transaction.currency})),u.createElement("div",{className:"country"},n===w.DONATION.toString()?u.createElement("a",{href:re.CAUSES},e):e)))}}]),t}(u.Component),ga=Object(ve.c)(fa),ba=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e,t=this,a=k[this.props.commission.status].toString(),n=!!this.props.shops.find((function(e){return e.id===t.props.commission.shopId}));switch(a){case k.paid.toString():e=u.createElement("i",{className:"fa fa-money","aria-hidden":"true",style:{color:"green"},title:this.props.intl.formatMessage({id:"wallet.tx.status.paid"})});break;case k.rejected.toString():e=u.createElement("i",{className:"fa fa-ban","aria-hidden":"true",style:{color:"red"},title:this.props.intl.formatMessage({id:"wallet.tx.status.rejected"})});break;default:e=u.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true",title:this.props.intl.formatMessage({id:"wallet.tx.status.pending"})})}return u.createElement(u.Fragment,null,u.createElement("div",{className:"table-row"},u.createElement("div",{className:"country"},this.props.commission.createdAt.toDate().toLocaleDateString("ro-RO",Le)),u.createElement("div",{className:"country"},u.createElement("h3",null,e)),u.createElement("div",{className:"country"},De(this.props.commission.amount)," ",this.props.intl.formatMessage({id:this.props.commission.currency})),n?u.createElement("div",{className:"country"},u.createElement("img",{className:"img-min img",height:"50px",src:this.props.commission.program.logo,alt:this.props.commission.program.name,title:this.props.commission.program.name})):u.createElement("div",{className:"country"},u.createElement("a",{title:this.props.intl.formatMessage({id:"wallet.commission.shop.inactive"}),href:"#",style:{color:"red",textDecoration:"underline"}},this.props.commission.program.name))))}}]),t}(u.Component),Ea=Object(h.c)((function(e){return{shops:e.shops.allShops}}))(Object(ve.c)(ba)),va=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={cashbackApproved:0,cashbackPending:0,pointsApproved:0,pointsPending:0,transactions:[],isLoading:!0,isLoadingCommissions:!0,commissions:[],causes:[],comSortDateAsc:"true",comSortStatusAsc:"",tranSortDateAsc:"true",tranSortTypeAsc:""},a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"loadWallet",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.isLoading||this.setState({isLoading:!0}),e.prev=1,e.next=4,Xt();case 4:t=e.sent,a=t.data(),this.setState({cashbackApproved:a.cashback.approved,cashbackPending:a.cashback.pending,pointsApproved:a.points.approved,pointsPending:a.points.pending,transactions:a.transactions,isLoading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1});case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t,a,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qt();case 3:(t=e.sent)&&this.setState({causes:t}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return this.loadWallet(),e.prev=10,e.next=13,$t();case 13:(a=e.sent)?(n=a,this.setState({commissions:n,isLoadingCommissions:!1})):this.setState({isLoadingCommissions:!1}),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),this.setState({isLoadingCommissions:!1});case 20:vn.dispatch(fe(l.WALLET));case 21:case"end":return e.stop()}}),e,this,[[0,7],[10,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.WALLET))}},{key:"render",value:function(){var e=this,t=this.state.transactions?this.state.transactions.sort((function(t,a){return e.state.tranSortDateAsc?"true"===e.state.tranSortDateAsc?t.date>a.date?-1:1:t.date<a.date?-1:1:e.state.tranSortTypeAsc?"true"===e.state.tranSortTypeAsc?t.type>a.type?-1:1:t.type<a.type?-1:1:0})).map((function(e,t){return u.createElement(ga,{key:"tx"+t,transaction:e})})):null,a=this.state.commissions?this.state.commissions.sort((function(t,a){return e.state.comSortDateAsc?"true"===e.state.comSortDateAsc?t.createdAt>a.createdAt?-1:1:t.createdAt<a.createdAt?-1:1:e.state.comSortStatusAsc?"true"===e.state.comSortStatusAsc?k[t.status]>k[a.status]?-1:1:k[t.status]<k[a.status]?-1:1:0})).map((function(e,t){return u.createElement(Ea,{key:"cm"+t,commission:e})})):null;return u.createElement(u.Fragment,null,u.createElement("section",{className:"product_description_area"},u.createElement("div",{className:"container"},u.createElement(dt.a,{loading:this.state.isLoading||this.state.isLoadingCommissions,color:"#1641ff",css:_e}),!this.state.isLoading&&!this.state.isLoadingCommissions&&u.createElement(u.Fragment,null,u.createElement("div",{className:"tab-content"},u.createElement("div",{className:"row"},u.createElement(ha,{title:this.props.intl.formatMessage({id:"wallet.cashback"}),approved:this.state.cashbackApproved,pending:this.state.cashbackPending,pendingExists:!0,money:!0,causes:this.state.causes,openDonateWithCaseId:this.props.match.params.caseId,onTxCompleted:function(){return e.loadWallet()}}),u.createElement(ha,{title:this.props.intl.formatMessage({id:"wallet.charity.points"}),approved:this.state.pointsApproved,money:!1}))),a&&a.length>0&&u.createElement("div",{className:"tab-content"},u.createElement("h3",{className:"mb-30 title_color"},u.createElement(Ee.a,{id:"wallet.cashback.history",defaultMessage:"Cashback History"})),u.createElement("div",{className:"progress-table-wrap"},u.createElement("div",{className:"progress-table"},u.createElement("div",{className:"table-head"},u.createElement("div",{className:"country"},u.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.state.comSortDateAsc&&"true"===e.state.comSortDateAsc?e.setState({comSortDateAsc:"false",comSortStatusAsc:""}):e.setState({comSortDateAsc:"true",comSortStatusAsc:""})}},u.createElement(Ee.a,{id:"wallet.table.date",defaultMessage:"Date"}),this.state.comSortDateAsc&&"true"===this.state.comSortDateAsc&&u.createElement("i",{className:"fa fa-arrow-up"}),this.state.comSortDateAsc&&"false"===this.state.comSortDateAsc&&u.createElement("i",{className:"fa fa-arrow-down"}))),u.createElement("div",{className:"country"},u.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.state.comSortStatusAsc&&"true"===e.state.comSortStatusAsc?e.setState({comSortStatusAsc:"false",comSortDateAsc:""}):e.setState({comSortStatusAsc:"true",comSortDateAsc:""})}},u.createElement(Ee.a,{id:"wallet.table.status",defaultMessage:"Status"}),this.state.comSortStatusAsc&&"true"===this.state.comSortStatusAsc&&u.createElement("i",{className:"fa fa-arrow-up"}),this.state.comSortStatusAsc&&"false"===this.state.comSortStatusAsc&&u.createElement("i",{className:"fa fa-arrow-down"}))),u.createElement("div",{className:"country"},u.createElement(Ee.a,{id:"wallet.table.amount",defaultMessage:"Amount"})),u.createElement("div",{className:"country"},u.createElement(Ee.a,{id:"wallet.table.shop",defaultMessage:"Shop"}))),a))),t&&t.length>0&&u.createElement("div",{className:"tab-content"},u.createElement("h3",{className:"mb-30 title_color"},u.createElement(Ee.a,{id:"wallet.history",defaultMessage:"History"})),u.createElement("div",{className:"progress-table-wrap"},u.createElement("div",{className:"progress-table"},u.createElement("div",{className:"table-head"},u.createElement("div",{className:"country"},u.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.state.tranSortDateAsc&&"true"===e.state.tranSortDateAsc?e.setState({tranSortDateAsc:"false",tranSortTypeAsc:""}):e.setState({tranSortDateAsc:"true",tranSortTypeAsc:""})}},u.createElement(Ee.a,{id:"wallet.table.date",defaultMessage:"Date"}),this.state.tranSortDateAsc&&"true"===this.state.tranSortDateAsc&&u.createElement("i",{className:"fa fa-arrow-up"}),this.state.tranSortDateAsc&&"false"===this.state.tranSortDateAsc&&u.createElement("i",{className:"fa fa-arrow-down"}))),u.createElement("div",{className:"country"},u.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.state.tranSortTypeAsc&&"true"===e.state.tranSortTypeAsc?e.setState({tranSortTypeAsc:"false",tranSortDateAsc:""}):e.setState({tranSortTypeAsc:"true",tranSortDateAsc:""})}},u.createElement(Ee.a,{id:"wallet.table.type",defaultMessage:"Type"}),this.state.tranSortTypeAsc&&"true"===this.state.tranSortTypeAsc&&u.createElement("i",{className:"fa fa-arrow-up"}),this.state.tranSortTypeAsc&&"false"===this.state.tranSortTypeAsc&&u.createElement("i",{className:"fa fa-arrow-down"}))),u.createElement("div",{className:"country"},u.createElement(Ee.a,{id:"wallet.table.amount",defaultMessage:"Amount"})),u.createElement("div",{className:"country"},u.createElement(Ee.a,{id:"wallet.table.target",defaultMessage:"Target"}))),t)))))))}}]),t}(u.Component),Sa=Object(ve.c)(va),ya=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement("p",{className:"sample-text"},u.createElement("p",{className:"text-muted"},"Urm\u0103torii termeni si condi\u021bii intr\u0103 \xeen vigoare de la data de 11.11.2019."),u.createElement("ol",null,u.createElement("li",{className:"p-2"},"Prezentul document este valabil pentru toate mediile de folosire ale platformei CharityDiscount: aplica\u021biile mobile android \u0219i ios, interfa\u021ba web desktop/mobile \u0219i orice alta interfa\u021ba care se conecteaza prin API la plaforma CharityDiscount de\u021binut\u0103 \u0219i operat\u0103 de CLOVER TECH ROMANIA SRL cu sediul \xeen Cluj - Napoca, num\u0103rul de \xeenregistrare J12/4417/15.11.2019, CUI 41908127 folosind domeniul 'charitydiscount.ro'."),u.createElement("li",{className:"p-2"},"Platforma CharityDiscount permite utilizatorilor sa primeasc\u0103 \xeenapoi o parte din banii cheltuiti la magazinele partenere. Magazinele partenere urm\u0103resc comanda, o confirma si pl\u0103tesc c\u0103tre CharityDiscount un comision. CharityDiscount distribuie o parte din banii primi\u021bi de la magazinele partenere c\u0103tre utilizatorii s\u0103i."),u.createElement("li",{className:"p-2"},'Odat\u0103 cu crearea unui cont pe platforma CharityDiscount, utilizatorul recunoa\u0219te ca a citit, \xeen\u021beles \u0219i acceptat Termenii \u0219i Condi\u021biile. Utilizatorul accepta Termenii \u0219i Condi\u021biile facand declara\u021bia "Sunt de acord cu Termenii \u0219i condi\u021biile \u0219i cu Politica de Confiden\u021bialitate" \u0219i bif\xe2nd c\u0103su\u021ba aferent\u0103 din procedura de \xeenregistrare pe plaform\u0103.'),u.createElement("li",{className:"p-2"},"CharityDiscount \xee\u0219i rezerva dreptul de a face orice modific\u0103ri asupra acestor Termeni si Conditii f\u0103r\u0103 a notifica \xeen prealabil utilizatorii sai, obligandu-se doar sa \xeei notifice pe ace\u0219tia prin actualizarea acestei pagini cu cel pu\u021bin 30 de zile \xeenainte de intrarea \xeen vigoare a modific\u0103rilor aduse."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Platforma CharityDiscount are ca scop promovarea magazinelor partenere \xeen schimbul comisioanelor oferite de acestea \u0219i facilitarea ac\u021biunilor de retragere sau donare a comisionului primit de utilizator.")),u.createElement("li",{className:"p-2"},"CharityDiscount \xee\u0219i rezerv\u0103 dreptul de a dona bani din conturile inactive de 2 ani."),u.createElement("li",{className:"p-2"},"Termeni:"),u.createElement("ul",null,u.createElement("li",{className:"p-2"},u.createElement("b",null,"Platforma"),": Mediul \xeen care se desf\u0103\u0219oar\u0103 activitatea CharityDiscount; Aplica\u021biile mobile Android \u0219i IOS + Aplica\u021bia Web (desktop + mobile)"),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Magazin Partener/Afiliat"),": Magazin promovat de CharityDiscount \xeen schimbul unui comision din fiecare vanzare f\u0103cut\u0103 prin intermediul sau."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Utilizator"),": Persoana care \xee\u0219i creeaza cont pe platforma CharityDiscount \u0219i respecta to\u021bi Termenii \u0219i Condi\u021biile prezentului contract."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Cookies"),": Sunt fi\u0219iere mici care sunt stocate pe mediul de stocare al dispozitivului pe care ll utilizati pentru a accesa platforma CharityDiscount sau subdomeniile acesteia, esentiale pentru \xeenregistrarea bonusurilor."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Cashback"),": Suma de bani pe care utilizatorul o primeste inapoi pentru cumparaturile online f\u0103cute prin intermediul platformei CharityDiscount."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Charity Points"),": Puncte virtuale primite \xeen schimbul dona\u021biilor f\u0103cute de utilizator."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Comision"),": Suma de bani pe care CharityDiscount o prime\u0219te de la magazinele partenere pentru serviciile prestate."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Retragere"),": Opera\u021biunea de a transfera banii economisiti de utilizator, din contul CharityDiscount \xeentr-un cont propriu."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Donare"),": Opera\u021biunea de a transfera banii economisiti de utilizator din contul CharityDiscount \xeen contul unei funda\u021bii caritabile, la alegere."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Cazuri/cauze caritabile"),": Fundatiile caritabile pe care ChairtyDiscount le propune pentru a fi sustinute. CharityDiscount nu se identifica \xeen niciun fel cu nicio fundatie caritabila promovat\u0103."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Prag minim de retragere"),": Suma de bani minima care poate fii transferata din contul CharityDiscount \xeen contul utilizatorului."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"API"),": Setul de servicii apelate din aplica\u021bii pentru functionalitatea platformei."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Aplica\u021bie"),": Interfa\u021ba web (mobile/desktop) + aplica\u021biile mobile android \u0219i ios."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"AdBlocker"),": O extensie/aplicatie care blocheaza cookie-urile si reclamele. Folosirea lui poate rezulta \xeen \xeenregistrarea unor comisioane."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Feedback/Recenzie"),": Parere personala privind orice aspect al unui magazin partener."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"IBAN"),": Cod de identificare a contului bancar \xeen care utilizatorul dore\u0219te sa fie transferate economiile personale din contul CharityDiscount."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Notific\u0103ri"),": Mesaje trimise de platforma CharityDiscount c\u0103tre utilizatori legate \xeen general de starea comisioanelor generate.")),u.createElement("li",{className:"p-2"},"Condi\u021bii de folosire a platformei:"),u.createElement("ul",null,u.createElement("li",{className:"p-2"},"Utilizatorul a citit, \xeen\u021beles \u0219i acceptat Termenii \u0219i Condi\u021biile (acest document) \xeempreun\u0103 cu",u.createElement(vt.a,{to:"/privacy",className:"ml-1"},"Politica de Confiden\u021bialitate")),u.createElement("li",{className:"p-2"},"Utilizatorul furnizeaz\u0103 date autentice pe parcursul \xeentregii interac\u021biuni cu platforma CharityDiscount, operatorii acesteia \u0219i magazinele afiliate."),u.createElement("li",{className:"p-2"},"Utilizatorul a luat la cuno\u0219tin\u021b\u0103 faptul c\u0103 platforma nu are nicio asociere cu magazinele partenere \xeen afar\u0103 de cea de promovare a acestora \xeen schimbul primirii de comisioane. Astfel, platforma CharityDiscount nu este responsabil\u0103 de modul de func\u021bionare ale magazinelor \u0219i de informa\u021biile oferite de acestea."),u.createElement("li",{className:"p-2"},"Utilizatorul a luat la cuno\u0219tin\u021b\u0103 faptul c\u0103 platforma nu are nicio asociere cu cauzele/organiza\u021biile caritabile sus\u021binute \xeen afar\u0103 de facilitarea ac\u021biunii de donare pentru utilizatorii platformei. Astfel, platforma CharityDiscount nu este responsabil\u0103 de modul de func\u021bionare ale cauzelor sau organiza\u021biilor \u0219i de informa\u021biile oferite de acestea."),u.createElement("li",{className:"p-2"},"Utilizatorul ofer\u0103 recenzii autentice pentru magazinele partenere."),u.createElement("li",{className:"p-2"},"Utilizatorul folose\u0219te platforma doar \xeen scopul prezentat la punctul 5. Platforma CharityDiscount \u0219i reprezentan\u021bii acesteia nu pot fi tra\u0219i la r\u0103spundere pentru nicio dauna (materiala, intelectuala sau de orice alt fel) rezultata din folosirea necorespunz\u0103toare a platformei."),u.createElement("li",{className:"p-2"},"Chiar dac\u0103 operatorii platformei fac tot posibilul pentru buna-functionare a acesteia, utilizatorul \xeen\u021belege ca nu exista nicio garan\u021bie c\u0103 platforma va functiona \xeen permanent\u0103."),u.createElement("li",{className:"p-2"},"Utilizatorul \xeen\u021belege ca platforma poate suporta in orice moment modific\u0103ri (functionalitati noi, repara\u021bii, excluderea unor functionalitati existente \u0219i nu numai) fara instiintare."),u.createElement("li",{className:"p-2"},"Utilizatorul \xeen\u021belege ca, atat platforma, c\xe2t \u0219i magazinele partenere pot modifica valoarea sau tipul comisionul acordat \xeen orice moment f\u0103r\u0103 preaviz."),u.createElement("li",{className:"p-2"},"Utilizatorul intelege ca platforma nu poate garanta acordarea comisioanelor de c\u0103tre magazinele partenere. Fiecare magazin este o entitate individuala care are termeni si conditii proprii."),u.createElement("li",{className:"p-2"},"Utilizatorul va declara venitul ob\u021binut din cadrul platformei \xeen scopul impozit\u0103rii \xeen concordan\u021b\u0103 cu legea \xeen vigoare."),u.createElement("li",{className:"p-2"},"Utilizatorul \xeen\u021belege ca platforma se angajeaza sa stocheze \xeen siguran\u021ba datele furnizate de acesta. Utilizatorul are dreptul sa obtina sau \u0219tearg\u0103 toate datele cu caracter personal despre acesta accesand pagina destinata contului de utilizator din cadrul aplica\u021biilor."))))}}]),t}(u.Component),Na=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement("p",{className:"sample-text"},u.createElement("p",{className:"text-muted"},"Urm\u0103torii termeni si condi\u021bii intr\u0103 \xeen vigoare de la data de 11.11.2019."),u.createElement("ol",null,u.createElement("li",{className:"p-2"},"Prezentul document este valabil pentru toate mediile de folosire ale platformei CharityDiscount: aplica\u021biile mobile android \u0219i ios, interfa\u021ba web desktop/mobile \u0219i orice alta interfa\u021ba care se conecteaza prin API la plaforma CharityDiscount de\u021binut\u0103 \u0219i operat\u0103 de CLOVER TECH ROMANIA SRL cu sediul \xeen Cluj - Napoca, num\u0103rul de \xeenregistrare J12/4417/15.11.2019, CUI 41908127 folosind domeniul 'charitydiscount.ro'."),u.createElement("li",{className:"p-2"},"Platforma CharityDiscount permite utilizatorilor sa primeasc\u0103 \xeenapoi o parte din banii cheltuiti la magazinele partenere. Magazinele partenere urm\u0103resc comanda, o confirma si pl\u0103tesc c\u0103tre CharityDiscount un comision. CharityDiscount distribuie o parte din banii primi\u021bi de la magazinele partenere c\u0103tre utilizatorii s\u0103i."),u.createElement("li",{className:"p-2"},'Odat\u0103 cu crearea unui cont pe platforma CharityDiscount, utilizatorul recunoa\u0219te ca a citit, \xeen\u021beles \u0219i acceptat Termenii \u0219i Condi\u021biile. Utilizatorul accepta Termenii \u0219i Condi\u021biile facand declara\u021bia "Sunt de acord cu Termenii \u0219i condi\u021biile \u0219i cu Politica de Confiden\u021bialitate" \u0219i bif\xe2nd c\u0103su\u021ba aferent\u0103 din procedura de \xeenregistrare pe plaform\u0103.'),u.createElement("li",{className:"p-2"},"CharityDiscount \xee\u0219i rezerva dreptul de a face orice modific\u0103ri asupra acestor Termeni si Conditii f\u0103r\u0103 a notifica \xeen prealabil utilizatorii sai, obligandu-se doar sa \xeei notifice pe ace\u0219tia prin actualizarea acestei pagini cu cel pu\u021bin 30 de zile \xeenainte de intrarea \xeen vigoare a modific\u0103rilor aduse."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Platforma CharityDiscount are ca scop promovarea magazinelor partenere \xeen schimbul comisioanelor oferite de acestea \u0219i facilitarea ac\u021biunilor de retragere sau donare a comisionului primit de utilizator.")),u.createElement("li",{className:"p-2"},"CharityDiscount \xee\u0219i rezerv\u0103 dreptul de a dona bani din conturile inactive de 2 ani."),u.createElement("li",{className:"p-2"},"Termeni:"),u.createElement("ul",null,u.createElement("li",{className:"p-2"},u.createElement("b",null,"Platforma"),": Mediul \xeen care se desf\u0103\u0219oar\u0103 activitatea CharityDiscount; Aplica\u021biile mobile Android \u0219i IOS + Aplica\u021bia Web (desktop + mobile)"),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Magazin Partener/Afiliat"),": Magazin promovat de CharityDiscount \xeen schimbul unui comision din fiecare vanzare f\u0103cut\u0103 prin intermediul sau."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Utilizator"),": Persoana care \xee\u0219i creeaza cont pe platforma CharityDiscount \u0219i respecta to\u021bi Termenii \u0219i Condi\u021biile prezentului contract."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Cookies"),": Sunt fi\u0219iere mici care sunt stocate pe mediul de stocare al dispozitivului pe care ll utilizati pentru a accesa platforma CharityDiscount sau subdomeniile acesteia, esentiale pentru \xeenregistrarea bonusurilor."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Cashback"),": Suma de bani pe care utilizatorul o primeste inapoi pentru cumparaturile online f\u0103cute prin intermediul platformei CharityDiscount."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Charity Points"),": Puncte virtuale primite \xeen schimbul dona\u021biilor f\u0103cute de utilizator."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Comision"),": Suma de bani pe care CharityDiscount o prime\u0219te de la magazinele partenere pentru serviciile prestate."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Retragere"),": Opera\u021biunea de a transfera banii economisiti de utilizator, din contul CharityDiscount \xeentr-un cont propriu."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Donare"),": Opera\u021biunea de a transfera banii economisiti de utilizator din contul CharityDiscount \xeen contul unei funda\u021bii caritabile, la alegere."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Cazuri/cauze caritabile"),": Fundatiile caritabile pe care ChairtyDiscount le propune pentru a fi sustinute. CharityDiscount nu se identifica \xeen niciun fel cu nicio fundatie caritabila promovat\u0103."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Prag minim de retragere"),": Suma de bani minima care poate fii transferata din contul CharityDiscount \xeen contul utilizatorului."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"API"),": Setul de servicii apelate din aplica\u021bii pentru functionalitatea platformei."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Aplica\u021bie"),": Interfa\u021ba web (mobile/desktop) + aplica\u021biile mobile android \u0219i ios."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"AdBlocker"),": O extensie/aplicatie care blocheaza cookie-urile si reclamele. Folosirea lui poate rezulta \xeen \xeenregistrarea unor comisioane."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Feedback/Recenzie"),": Parere personala privind orice aspect al unui magazin partener."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"IBAN"),": Cod de identificare a contului bancar \xeen care utilizatorul dore\u0219te sa fie transferate economiile personale din contul CharityDiscount."),u.createElement("li",{className:"p-2"},u.createElement("b",null,"Notific\u0103ri"),": Mesaje trimise de platforma CharityDiscount c\u0103tre utilizatori legate \xeen general de starea comisioanelor generate.")),u.createElement("li",{className:"p-2"},"Condi\u021bii de folosire a platformei:"),u.createElement("ul",null,u.createElement("li",{className:"p-2"},"Utilizatorul a citit, \xeen\u021beles \u0219i acceptat Termenii \u0219i Condi\u021biile (acest document) \xeempreun\u0103 cu",u.createElement(vt.a,{to:"/privacy",className:"ml-1"},"Politica de Confiden\u021bialitate")),u.createElement("li",{className:"p-2"},"Utilizatorul furnizeaz\u0103 date autentice pe parcursul \xeentregii interac\u021biuni cu platforma CharityDiscount, operatorii acesteia \u0219i magazinele afiliate."),u.createElement("li",{className:"p-2"},"Utilizatorul a luat la cuno\u0219tin\u021b\u0103 faptul c\u0103 platforma nu are nicio asociere cu magazinele partenere \xeen afar\u0103 de cea de promovare a acestora \xeen schimbul primirii de comisioane. Astfel, platforma CharityDiscount nu este responsabil\u0103 de modul de func\u021bionare ale magazinelor \u0219i de informa\u021biile oferite de acestea."),u.createElement("li",{className:"p-2"},"Utilizatorul a luat la cuno\u0219tin\u021b\u0103 faptul c\u0103 platforma nu are nicio asociere cu cauzele/organiza\u021biile caritabile sus\u021binute \xeen afar\u0103 de facilitarea ac\u021biunii de donare pentru utilizatorii platformei. Astfel, platforma CharityDiscount nu este responsabil\u0103 de modul de func\u021bionare ale cauzelor sau organiza\u021biilor \u0219i de informa\u021biile oferite de acestea."),u.createElement("li",{className:"p-2"},"Utilizatorul ofer\u0103 recenzii autentice pentru magazinele partenere."),u.createElement("li",{className:"p-2"},"Utilizatorul folose\u0219te platforma doar \xeen scopul prezentat la punctul 5. Platforma CharityDiscount \u0219i reprezentan\u021bii acesteia nu pot fi tra\u0219i la r\u0103spundere pentru nicio dauna (materiala, intelectuala sau de orice alt fel) rezultata din folosirea necorespunz\u0103toare a platformei."),u.createElement("li",{className:"p-2"},"Chiar dac\u0103 operatorii platformei fac tot posibilul pentru buna-functionare a acesteia, utilizatorul \xeen\u021belege ca nu exista nicio garan\u021bie c\u0103 platforma va functiona \xeen permanent\u0103."),u.createElement("li",{className:"p-2"},"Utilizatorul \xeen\u021belege ca platforma poate suporta in orice moment modific\u0103ri (functionalitati noi, repara\u021bii, excluderea unor functionalitati existente \u0219i nu numai) fara instiintare."),u.createElement("li",{className:"p-2"},"Utilizatorul \xeen\u021belege ca, atat platforma, c\xe2t \u0219i magazinele partenere pot modifica valoarea sau tipul comisionul acordat \xeen orice moment f\u0103r\u0103 preaviz."),u.createElement("li",{className:"p-2"},"Utilizatorul intelege ca platforma nu poate garanta acordarea comisioanelor de c\u0103tre magazinele partenere. Fiecare magazin este o entitate individuala care are termeni si conditii proprii."),u.createElement("li",{className:"p-2"},"Utilizatorul va declara venitul ob\u021binut din cadrul platformei \xeen scopul impozit\u0103rii \xeen concordan\u021b\u0103 cu legea \xeen vigoare."),u.createElement("li",{className:"p-2"},"Utilizatorul \xeen\u021belege ca platforma se angajeaza sa stocheze \xeen siguran\u021ba datele furnizate de acesta. Utilizatorul are dreptul sa obtina sau \u0219tearg\u0103 toate datele cu caracter personal despre acesta accesand pagina destinata contului de utilizator din cadrul aplica\u021biilor."))))}}]),t}(u.Component),Ca=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){vn.dispatch(fe(l.TOS))}},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.TOS))}},{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement("div",{className:"container p_120"},u.createElement("div",{className:"p-2 p-md-4"},u.createElement("h3",{className:"mb-30"},u.createElement(Ee.a,{id:"tos.title",defaultMessage:"Terms of agreement"})),u.createElement("div",{className:"mt-sm-20 left-align-p"},"ro"===this.props.currentLocale?u.createElement(ya,null):u.createElement(Na,null)))))}}]),t}(u.Component),Oa=Object(h.c)((function(e){return{currentLocale:e.locale.langResources.language}}))(Ca),wa=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement("p",{className:"sample-text"},u.createElement("p",{className:"text-muted"},"Politica de confiden\u021bialitate prezentata mai jos intr\u0103 \xeen vigoare de la data de 11.11.2019."),u.createElement("ol",null,u.createElement("li",{className:"p-2"},"Informa\u021biile pe care le stoc\u0103m"),u.createElement("ul",null,u.createElement("li",{className:""},u.createElement("b",null,"Nume si prenume")),u.createElement("li",{className:""},u.createElement("b",null,"Adresa de email")),u.createElement("li",{className:""},u.createElement("b",null,"IBAN"))),u.createElement("li",{className:"p-2 pt-4"},"Cum sunt ob\u021binute aceste informa\u021bii"),"Informa\u021biile sunt colectate prin introducerea lor de c\u0103tre utilizatorii no\u0219tri direct \xeen platform\u0103 \u0219i sunt esen\u021biale pentru buna func\u021bionare a serviciului nostru.",u.createElement("li",{className:"p-2 pt-4"},"Cum \u0219i pentru ce folosim informa\u021biile stocate"),"Folosim \u0219i proces\u0103m informa\u021biile colectate pentru a putea asigura func\u021bionalitatea platformei noastre dup\u0103 cum urmeaz\u0103:",u.createElement("p",null,u.createElement("b",null,"Nume \u0219i Prenume")," \u2013 le proces\u0103m pentru efectuarea pl\u0103\u021bilor prin transfer bancar c\u0103tre utilizatorii no\u0219tri. Acestea sunt afi\u0219ate public in cadrul unei recenzii lasate de utilizator."),u.createElement("p",null,u.createElement("b",null,"Adresa de email")," \u2013 o proces\u0103m pentru crearea conturilor, \xeen procesul de autentificare \u0219i pentru a transmite notific\u0103ri."),u.createElement("p",null,u.createElement("b",null,"IBAN")," - \xeel stocam pentru a facilitate retragerea cashback-ului \u0219i pentru a p\u0103stra istoricul tranzac\u021biilor efectuate."),u.createElement("li",{className:"pt-2"},"Platforme si servicii ter\u021be:"),u.createElement("p",null,"Platforma CharityDiscount folose\u0219te urm\u0103toarele servicii oferite de Google prin intermediul platformei"," ",u.createElement("b",null,"Firebase"),":",u.createElement("ul",null,u.createElement("li",{className:"p-1"},"Firebase Hosting"),u.createElement("li",{className:"p-1"},"Firebase Analytics"),u.createElement("li",{className:"p-1"},"Firebase Authentication"),u.createElement("li",{className:"p-1"},"Firebase Firestore"),u.createElement("li",{className:"p-1"},"Firebase Cloud Messaging")),"Acestea sunt folosite exclusiv pentru a asigura func\u021bionarea platformei CharityDiscount. V\u0103 rugam sa consulta\u021bi politica de confiden\u021bialitate a serviciilor oferite de Google acces\xe2nd urm\u0103torul"," ",u.createElement("a",{href:"https://policies.google.com/technologies/partner-sites?hl=ro"},"link"),"."),u.createElement("p",null,"De asemenea, folosim platforma"," ",u.createElement("a",{href:"https://2performant.com/"},"2performant")," ","pentru afilierea cu magazinele prezentate. Prin intermediul 2performant, ob\u021binem informa\u021biile despre magazine, oferte, comisioane si cump\u0103r\u0103turile efectuate. 2performant nu are access la nicio informa\u021bie personal\u0103 a utilizatorilor no\u0219tri, comisionul fiind acordat pe baza unui identificator unic generat de CharityDiscount. \xcen urma cump\u0103r\u0103turilor efectuate de utilizatori, 2performant ne pune la dispozi\u021bie urm\u0103toarele informa\u021bii: magazinul de la care utilizatorul a cump\u0103rat, descrierea furnizata de magazin (uneori poate con\u021bine informa\u021bii despre produsele cump\u0103rate), adresa IP si tipul dispozitivului (exemplu: mobil) de pe care s-a efectuat achizi\u021bia."))))}}]),t}(u.Component),ka=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement("p",{className:"sample-text"},u.createElement("p",{className:"text-muted"},"Politica de confiden\u021bialitate prezentata mai jos intr\u0103 \xeen vigoare de la data de 11.11.2019."),u.createElement("ol",null,u.createElement("li",{className:"p-2"},"Informa\u021biile pe care le stoc\u0103m"),u.createElement("ul",null,u.createElement("li",{className:""},u.createElement("b",null,"Nume si prenume")),u.createElement("li",{className:""},u.createElement("b",null,"Adresa de email")),u.createElement("li",{className:""},u.createElement("b",null,"IBAN"))),u.createElement("li",{className:"p-2 pt-4"},"Cum sunt ob\u021binute aceste informa\u021bii"),"Informa\u021biile sunt colectate prin introducerea lor de c\u0103tre utilizatorii no\u0219tri direct \xeen platform\u0103 \u0219i sunt esen\u021biale pentru buna func\u021bionare a serviciului nostru.",u.createElement("li",{className:"p-2 pt-4"},"Cum \u0219i pentru ce folosim informa\u021biile stocate"),"Folosim \u0219i proces\u0103m informa\u021biile colectate pentru a putea asigura func\u021bionalitatea platformei noastre dup\u0103 cum urmeaz\u0103:",u.createElement("p",null,u.createElement("b",null,"Nume \u0219i Prenume")," \u2013 le proces\u0103m pentru efectuarea pl\u0103\u021bilor prin transfer bancar c\u0103tre utilizatorii no\u0219tri. Acestea sunt afi\u0219ate public in cadrul unei recenzii lasate de utilizator."),u.createElement("p",null,u.createElement("b",null,"Adresa de email")," \u2013 o proces\u0103m pentru crearea conturilor, \xeen procesul de autentificare \u0219i pentru a transmite notific\u0103ri."),u.createElement("p",null,u.createElement("b",null,"IBAN")," - \xeel stocam pentru a facilitate retragerea cashback-ului \u0219i pentru a p\u0103stra istoricul tranzac\u021biilor efectuate."),u.createElement("li",{className:"pt-2"},"Platforme si servicii ter\u021be:"),u.createElement("p",null,"Platforma CharityDiscount folose\u0219te urm\u0103toarele servicii oferite de Google prin intermediul platformei"," ",u.createElement("b",null,"Firebase"),":",u.createElement("ul",null,u.createElement("li",{className:"p-1"},"Firebase Hosting"),u.createElement("li",{className:"p-1"},"Firebase Analytics"),u.createElement("li",{className:"p-1"},"Firebase Authentication"),u.createElement("li",{className:"p-1"},"Firebase Firestore"),u.createElement("li",{className:"p-1"},"Firebase Cloud Messaging")),"Acestea sunt folosite exclusiv pentru a asigura func\u021bionarea platformei CharityDiscount. V\u0103 rugam sa consulta\u021bi politica de confiden\u021bialitate a serviciilor oferite de Google acces\xe2nd urm\u0103torul"," ",u.createElement("a",{href:"https://policies.google.com/technologies/partner-sites?hl=ro"},"link"),"."),u.createElement("p",null,"De asemenea, folosim platforma"," ",u.createElement("a",{href:"https://2performant.com/"},"2performant")," ","pentru afilierea cu magazinele prezentate. Prin intermediul 2performant, ob\u021binem informa\u021biile despre magazine, oferte, comisioane si cump\u0103r\u0103turile efectuate. 2performant nu are access la nicio informa\u021bie personal\u0103 a utilizatorilor no\u0219tri, comisionul fiind acordat pe baza unui identificator unic generat de CharityDiscount. \xcen urma cump\u0103r\u0103turilor efectuate de utilizatori, 2performant ne pune la dispozi\u021bie urm\u0103toarele informa\u021bii: magazinul de la care utilizatorul a cump\u0103rat, descrierea furnizata de magazin (uneori poate con\u021bine informa\u021bii despre produsele cump\u0103rate), adresa IP si tipul dispozitivului (exemplu: mobil) de pe care s-a efectuat achizi\u021bia.")))}}]),t}(u.Component),Aa=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){vn.dispatch(fe(l.PRIVACY))}},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.PRIVACY))}},{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement("div",{className:"container p_120"},u.createElement("div",{className:"p-2 p-md-4"},u.createElement("h3",{className:"mb-30 title_color"},u.createElement(Ee.a,{id:"privacy.title",defaultMessage:"Privacy"})),u.createElement("div",{className:"mt-sm-20 left-align-p"},"ro"===this.props.currentLocale?u.createElement(wa,null):u.createElement(ka,null)))))}}]),t}(u.Component),ja=Object(h.c)((function(e){return{currentLocale:e.locale.langResources.language}}))(Aa),Ta=function(e){function t(e){var a;Object(ce.a)(this,t);var n=(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).props.photoUrl;return n?n.includes("facebook")&&(n+="?height=200"):n="/img/no-image.jpg",a.state={photoURL:n},a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.photoUrl){e.next=10;break}return e.prev=1,e.next=4,Ht(this.props.userID);case 4:t=e.sent,this.setState({photoURL:t}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[1,2,3,4,5].map((function(t){return t<=e.props.rating?u.createElement("i",{key:"star-".concat(t),className:"fa fa-star star-focus fa-lg"}):u.createElement("i",{key:"star-".concat(t),className:"fa fa-star-o star-focus fa-lg"})}));return u.createElement(u.Fragment,null,u.createElement("div",{className:"review_item"},u.createElement("div",{className:"media"},u.createElement("div",{className:"d-flex"},u.createElement("img",{src:this.state.photoURL,alt:"N",width:80,height:80,style:{borderRadius:70}})),u.createElement("div",{className:"media-body"},u.createElement("h4",null,this.props.name),t)),u.createElement("p",null,this.props.description)))}}]),t}(u.Component),xa=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={shop:e.shops.find((function(e){return e.id===parseInt(a.props.match.params.id)}))||{},description:"",modalMessage:"",modalVisible:!1,rating:0,reviews:[],reviewsLoading:!0},a.updateCurrentReview=a.updateCurrentReview.bind(Object(he.a)(a)),a.handleStarFocusEnter=a.handleStarFocusEnter.bind(Object(he.a)(a)),a.handleStarFocusRemove=a.handleStarFocusRemove.bind(Object(he.a)(a)),a.handleShowModalMessage=a.handleShowModalMessage.bind(Object(he.a)(a)),a.escFunction=a.escFunction.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"escFunction",value:function(e){27===e.keyCode&&this.closeModal()}},{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vn.dispatch(fe(l.REVIEW)),document.addEventListener("keydown",this.escFunction,!1),e.prev=2,e.next=5,a=this.state.shop.uniqueCode,yn.collection(N.REVIEWS).doc(a).get().then((function(e){if(e.exists){var t=e.data();return Object.values(t.reviews).map((function(e){return e}))}return[]})).catch((function(e){return console.log(e),[]}));case 5:t=e.sent,this.setState({reviews:t,reviewsLoading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({reviewsLoading:!1});case 12:case"end":return e.stop()}var a}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.REVIEW))}},{key:"closeModal",value:function(){this.setState({modalVisible:!1}),window.location.reload()}},{key:"openModal",value:function(){this.setState({modalVisible:!0})}},{key:"updateCurrentReview",value:function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.rating>0)){e.next=14;break}if(!Nn.currentUser){e.next=12;break}return e.prev=2,e.next=5,Et(this.state.shop.uniqueCode,this.state.rating,this.state.description,{userId:Nn.currentUser.uid,name:Nn.currentUser.displayName||"-",photoUrl:Nn.currentUser.photoURL||""});case 5:G(A.REVIEWS),this.handleShowModalMessage(this.props.intl.formatMessage({id:"review.update.message"}),null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.handleShowModalMessage(this.props.intl.formatMessage({id:"review.failed.to.update.error.message"}),null);case 12:e.next=15;break;case 14:this.handleShowModalMessage(this.props.intl.formatMessage({id:"review.error.message"}),null);case 15:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleShowModalMessage",value:function(e,t){this.setState({modalMessage:e}),this.openModal()}},{key:"handleStarClicked",value:function(e,t){this.setState({rating:t})}},{key:"handleStarFocusEnter",value:function(e,t){for(var a=1;a<=t;a++){var n=document.getElementById("star-"+a);n&&(0===this.state.rating||this.state.rating<a)&&(n.className="fa fa-star star-focus fa-lg")}}},{key:"handleStarFocusRemove",value:function(e,t){for(var a=1;a<=t;a++){var n=document.getElementById("star-"+a);n&&(0===this.state.rating||this.state.rating<a)&&(n.className="fa fa-star-o fa-lg")}}},{key:"render",value:function(){var e=this,t=this.state.reviews&&this.state.reviews.length>0?this.state.reviews.map((function(e){return u.createElement(Ta,{key:e.reviewer.name,photoUrl:e.reviewer.photoUrl,name:e.reviewer.name,description:e.description,rating:e.rating,userID:e.reviewer.userId})})):u.createElement("div",{className:"text-muted"},u.createElement(Ee.a,{id:"review.no.reviews",defaultMessage:"No reviews yet"})),a=[1,2,3,4,5].map((function(t){return u.createElement("li",{key:"star-".concat(t)},u.createElement("a",{href:"#"},t<e.state.rating?u.createElement("i",{id:"star-".concat(t),className:"fa fa-star fa-lg",onClick:function(){return e.handleStarClicked(e,t)},onMouseEnter:function(){return e.handleStarFocusEnter(e,t)},onMouseLeave:function(){return e.handleStarFocusRemove(e,t)}}):u.createElement("i",{id:"star-".concat(t),className:"fa fa-star-o fa-lg",onClick:function(){return e.handleStarClicked(e,t)},onMouseEnter:function(){return e.handleStarFocusEnter(e,t)},onMouseLeave:function(){return e.handleStarFocusRemove(e,t)}})))}));return u.createElement(u.Fragment,null,u.createElement(Ve.a,{visible:this.state.modalVisible,effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},u.createElement("h3",{style:{padding:15}},this.state.modalMessage)),u.createElement("section",{className:"product_description_area"},u.createElement("div",{className:"container"},u.createElement("div",{className:"row",style:{marginTop:70}},u.createElement("div",{className:"col-lg-6"},u.createElement(kt,{key:this.state.shop.name,shop:this.state.shop,comingFromShopReview:!0})),u.createElement("div",{className:"col-lg-6"},u.createElement("div",{className:"tab-pane fade show active p_20",id:"review"},u.createElement("div",{className:"review_box"},u.createElement("p",null,u.createElement(Ee.a,{id:"review.rating.label",defaultMessage:"Your rating:"})),u.createElement("ul",{className:"list"},a),u.createElement("div",{className:"form-group"},u.createElement("textarea",{className:"form-control",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},placeholder:this.props.intl.formatMessage({id:"review.placeholder"})})),u.createElement("div",{className:"col-md-12 text-right"},u.createElement("a",{href:"#",onClick:function(){return e.updateCurrentReview()},className:"btn submit_btn"},u.createElement(Ee.a,{id:"review.submit.button",defaultMessage:"Submit review"})))),u.createElement("div",{className:"review_list p_20"},u.createElement(dt.a,{loading:this.state.reviewsLoading,color:"#1641ff",css:_e}),!this.state.reviewsLoading&&t)))))))}}]),t}(u.Component),_a=Object(h.c)((function(e){return{shops:e.shops.allShops}}))(Object(ve.c)(xa)),Ra=a(76),Ma=a(86),Ia=a.n(Ma);function Ua(){return Pa.apply(this,arguments)}function Pa(){return(Pa=Object(ae.a)(te.a.mark((function e(){var t,a,n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nn.currentUser){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,Nn.currentUser.getIdToken();case 4:return t=e.sent,a="".concat(On.getString("search_endpoint"),"/search/products/featured"),e.next=8,Ia.a.get(a,{headers:{Authorization:"Bearer ".concat(t)}});case 8:if(n=e.sent,(r=n.data).hits){e.next=12;break}return e.abrupt("return",[]);case 12:return e.abrupt("return",r.hits.map((function(e){return Fa(e)})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function za(e,t,a,n,r){return Da.apply(this,arguments)}function Da(){return(Da=Object(ae.a)(te.a.mark((function e(t,a,n,r,i){var s,o,c,l;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nn.currentUser){e.next=2;break}return e.abrupt("return",{products:[],total:0});case 2:return e.next=4,Nn.currentUser.getIdToken();case 4:return s=e.sent,o=La(t,r,a,n,i),e.next=8,Ia.a.get(o,{headers:{Authorization:"Bearer ".concat(s)}});case 8:if(c=e.sent,(l=c.data).hits){e.next=12;break}return e.abrupt("return",{products:[],total:0});case 12:return e.abrupt("return",{products:l.hits.map((function(e){return Fa(e)})),total:l.total.value});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e,t,a,n,r){var i="".concat(On.getString("search_endpoint"),"/search/products?query=").concat(e,"&page=").concat(50*r);if(t&&t.length>0&&(i+="&sort="+t),a)try{var s=parseInt(a);s>0&&(i+="&min="+s)}catch(c){}if(n)try{var o=parseInt(n);o>0&&(i+="&max="+o)}catch(c){}return i}function Fa(e){return{title:e._source.title,id:e._source.product_id,price:e._source.price,imageUrl:e._source.image_urls.toString().includes(",")?e._source.image_urls.toString().split(",")[0]:e._source.image_urls,category:e._source.category,url:xe(e._source.aff_code),shopName:e._source.campaign_name,shopId:e._source.campaign_id}}var Va=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).setRedirect=function(){a.setState({redirect:!0})},a.renderRedirect=function(){if(a.state.redirect)return u.createElement(de.a,{to:re.CATEGORIES+"/shop/"+a.props.product.shopName})},a.state={redirect:!1},a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement(u.Fragment,null,this.renderRedirect(),u.createElement("div",{className:"text-center p-4"},u.createElement("div",{style:{textAlign:"right"}},u.createElement("i",{onClick:this.props.onCloseModal,className:"fa fa-times"})),this.props.product.price&&u.createElement("h6",{className:"blue-color"},this.props.product.price," lei"),u.createElement("h6",null,u.createElement(Ee.a,{id:"product.shop",defaultMessage:"Shop: "}),u.createElement("a",{href:"#",onClick:this.setRedirect,style:{color:"#1641ff"}},this.props.product.shopName)),u.createElement("h6",null,u.createElement(Ee.a,{id:"product.cashback.money",defaultMessage:"Saved money: "}),this.props.product.commission," lei"),u.createElement("h6",{style:{maxWidth:300}},u.createElement(Ee.a,{id:"shop.category",defaultMessage:"Category: "}),this.props.product.category),u.createElement("img",{style:{maxWidth:300,maxHeight:300},src:this.props.product.imageUrl,alt:""}),u.createElement("div",{className:"blog_details"},u.createElement("h4",{style:{maxWidth:300}}," ",this.props.product.title),u.createElement("div",{className:"s_product_text",style:{marginLeft:10,marginTop:30}},u.createElement("div",{className:"card_area"},u.createElement("a",{href:this.props.product.url,target:"_blank",rel:"noopener noreferrer",className:"main_btn"},u.createElement(Ee.a,{id:"shop.access.button",defaultMessage:"Access"})))))))}}]),t}(u.Component),Ga=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={visible:!1},a.escFunction=a.escFunction.bind(Object(he.a)(a)),a.closeModal=a.closeModal.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"escFunction",value:function(e){27===e.keyCode&&this.closeModal()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction,!1)}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"openModal",value:function(){this.setState({visible:!0})}},{key:"render",value:function(){var e=this;return u.createElement(u.Fragment,null,u.createElement(Ve.a,{visible:this.state.visible,effect:"fadeInUp",onClickAway:function(){return e.closeModal()}},this.state.visible&&u.createElement(Va,{key:"element"+this.props.keyElement,onCloseModal:this.closeModal,product:this.props.product})),u.createElement("div",{className:"col-md-3"},u.createElement("div",{className:"f_p_item"},u.createElement("div",{onClick:function(){return e.openModal()},style:{cursor:"pointer"}},this.props.product.price&&u.createElement("h6",{className:"blue-color"},this.props.product.price," lei"),u.createElement("div",{className:"f_p_img"},u.createElement("img",{className:"img-fluid img-min img",style:{maxWidth:200,maxHeight:200},src:this.props.product.imageUrl,alt:""})),u.createElement("h4",null,this.props.product.title)))))}}]),t}(u.Component),Wa=a(254),qa=a(253),Ha=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).searchTerm="",a.minPrice="",a.maxPrice="",a.sort="",a.oldSearchTerm="",a.oldMinPrice="",a.oldMaxPrice="",a.oldSort="",a.state={isLoading:!1,searchActive:!1,products:{},currentPage:0,total:50},a.startSearch=a.startSearch.bind(Object(he.a)(a)),a.searchProducts=a.searchProducts.bind(Object(he.a)(a)),a.updatePageNumber=a.updatePageNumber.bind(Object(he.a)(a)),a.searchFunction=a.searchFunction.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"updatePageNumber",value:function(e){window.innerWidth>800?window.scrollTo(0,0):window.scrollTo(0,400),this.setState({currentPage:e.selected}),this.searchProducts(e.selected,this.searchTerm,this.minPrice,this.maxPrice,this.sort)}},{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.addEventListener("keydown",this.searchFunction,!1),this.setState({isLoading:!0}),e.prev=2,e.next=5,ye();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),window.location.reload();case 10:return e.prev=10,e.next=13,Ua();case 13:(t=e.sent)?this.setState({products:t,isLoading:!1}):this.setState({isLoading:!1}),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),this.setState({isLoading:!1});case 20:vn.dispatch(fe(l.PRODUCTS));case 21:case"end":return e.stop()}}),e,this,[[2,7],[10,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){vn.dispatch(ge(l.PRODUCTS))}},{key:"searchProducts",value:function(){var e=Object(ae.a)(te.a.mark((function e(t,a,n,r,i){var s,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.oldMaxPrice=r,this.oldMinPrice=n,this.oldSort=i,this.oldSearchTerm=a,this.setState({isLoading:!0}),!(this.searchTerm&&this.searchTerm.length>0)){e.next=18;break}return e.prev=6,e.next=9,za(a,n||"0",r||"0",i,t);case 9:(s=e.sent)&&this.setState({products:s.products,total:s.total,isLoading:!1}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),this.setState({isLoading:!1});case 16:e.next=28;break;case 18:return e.prev=18,e.next=21,Ua();case 21:(o=e.sent)?this.setState({products:o,isLoading:!1}):this.setState({isLoading:!1}),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(18),this.setState({isLoading:!1});case 28:case"end":return e.stop()}}),e,this,[[6,13],[18,25]])})));return function(t,a,n,r,i){return e.apply(this,arguments)}}()},{key:"searchFunction",value:function(e){13===e.keyCode&&this.startSearch()}},{key:"startSearch",value:function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.oldSearchTerm===this.searchTerm&&this.oldSort===this.sort&&this.oldMinPrice===this.minPrice&&this.oldMaxPrice===this.maxPrice||(this.setState({currentPage:0}),this.searchProducts(0,this.searchTerm,this.minPrice,this.maxPrice,this.sort));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;this.state.products&&this.state.products.length>0&&(e=this.state.products.filter((function(e){return void 0!==t.props.shops.find((function(t){return t.id===e.shopId}))})).map((function(e){var a=t.props.shops.find((function(t){return t.id===e.shopId}));return a&&(e.commission=ze(e.price*parseFloat(a.commission)/100)),e})));var a=e&&e.length>0?e.map((function(e,t){return u.createElement(Ga,{key:"list"+t,keyElement:"list"+t,product:e})})):null;return u.createElement(u.Fragment,null,u.createElement("section",{className:"cat_product_area section_gap"},u.createElement("div",{className:"container-fluid"},u.createElement("div",{className:"row"},u.createElement("div",{className:"col-lg-3"},u.createElement("div",{className:"left_sidebar_area"},u.createElement("aside",{className:"left_widgets p_filter_widgets"},u.createElement("div",{className:"l_w_title"},u.createElement("h3",null,u.createElement(Ee.a,{id:"products.filters",defaultMessage:"Filters"}))),u.createElement("div",{className:"widgets_inner"},u.createElement("h3",null,u.createElement(Ee.a,{id:"products.filters.price",defaultMessage:"Price"})),u.createElement(Tt.a,{fullWidth:!0,variant:"outlined",disabled:!this.state.searchActive},u.createElement(Rt.a,{htmlFor:"outlined-adornment-amount"},"Min"),u.createElement(Wa.a,{id:"outlined-adornment-amount",type:"number",inputProps:{min:"0",max:"100000"},endAdornment:u.createElement(qa.a,{position:"end"},"lei"),onChange:function(e){t.minPrice=e.target.value},labelWidth:60})),u.createElement("br",null),u.createElement("br",null),u.createElement(Tt.a,{fullWidth:!0,variant:"outlined",disabled:!this.state.searchActive},u.createElement(Rt.a,{htmlFor:"outlined-adornment-amount"},"Max"),u.createElement(Wa.a,{id:"outlined-adornment-amount",type:"number",inputProps:{min:"0",max:"100000"},endAdornment:u.createElement(qa.a,{position:"end"},"lei"),onChange:function(e){t.maxPrice=e.target.value},labelWidth:60}))),u.createElement("div",{className:"widgets_inner"},u.createElement("h3",null,u.createElement(Ee.a,{id:"products.filters.sorting",defaultMessage:"Price sorting"})),u.createElement(Tt.a,{fullWidth:!0,disabled:!this.state.searchActive},u.createElement(xt.a,{MenuProps:{disableScrollLock:!0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"}},labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.sort,onChange:function(e){t.sort=e.target.value,t.startSearch()}},u.createElement(_t.a,{value:""},u.createElement(Ee.a,{id:"none.key",defaultMessage:"None"})),u.createElement(_t.a,{value:"asc"},u.createElement(Ee.a,{id:"products.filters.sorting.ascending",defaultMessage:"Ascending"})),u.createElement(_t.a,{value:"desc"},u.createElement(Ee.a,{id:"products.filters.sorting.descending",defaultMessage:"Descending"})))))))),u.createElement("div",{className:"col-lg-9"},u.createElement("div",{className:"product_top_bar"},u.createElement(be,{type:"textfield",id:"search",className:"single-input",placeholder:this.props.intl.formatMessage({id:"products.search"}),onKeyUp:function(e){e.target.value?(t.searchTerm=e.target.value,t.state.searchActive||t.setState({searchActive:!0})):t.setState({searchActive:!1})}})),u.createElement("div",{className:"product_top_bar"},u.createElement("button",{type:"submit",value:"submit",className:"btn submit_btn",onClick:this.startSearch},u.createElement(Ee.a,{id:"products.button.search",defaultMessage:"Search"})),u.createElement("div",{className:"right_page ml-auto"},u.createElement("nav",{className:"cat_page","aria-label":"Page navigation example"},u.createElement(bt.a,{previousLabel:"<",previousLinkClassName:"page-link",nextLabel:">",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"blank",breakLinkClassName:"page-link",pageCount:this.state.total/50,marginPagesDisplayed:1,pageRangeDisplayed:2,forcePage:this.state.currentPage,onPageChange:this.updatePageNumber,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",activeClassName:"active"})))),u.createElement(Ra.FadeLoader,{loading:this.state.isLoading,color:"#1641ff",css:_e}),u.createElement("div",{className:"latest_product_inner row"},!this.state.isLoading&&u.createElement(u.Fragment,null,a)))),u.createElement("div",{className:"row"},u.createElement("nav",{style:{marginTop:30},className:"cat_page mx-auto","aria-label":"Page navigation example"},u.createElement("div",{className:"right_page ml-auto"},u.createElement("nav",{className:"cat_page","aria-label":"Page navigation example"},u.createElement(bt.a,{previousLabel:"<",previousLinkClassName:"page-link",nextLabel:">",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"blank",breakLinkClassName:"page-link",pageCount:this.state.total/50,marginPagesDisplayed:1,pageRangeDisplayed:2,forcePage:this.state.currentPage,onPageChange:this.updatePageNumber,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",activeClassName:"active"}))))))))}}]),t}(u.Component),Ba=Object(h.c)((function(e){return{shops:e.shops.allShops}}))(Object(ve.c)(Ha)),Ja=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).state={page:"",caseId:"",isLoading:!0},a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=Object(ae.a)(te.a.mark((function e(){var t,a,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Pe("page"),a=Pe("token"),n=Pe("case"),!a){e.next=13;break}return e.prev=4,e.next=7,this.verifyUserLoggedInFirebase(a);case 7:e.sent&&this.setState({page:t,caseId:n}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"verifyUserLoggedInFirebase",value:function(e){var t=this;return new Promise((function(a,n){return Nn.signInWithCustomToken(e).then((function(e){if(e.user){var n=zt(e.user);vn.dispatch(ie(n)),t.setState({isLoading:!1}),a(!0)}t.setState({isLoading:!1})})).catch((function(){t.setState({isLoading:!1}),n()}))}))}},{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement(dt.a,{loading:this.state.isLoading,color:"#1641ff",css:_e}),!this.state.isLoading&&u.createElement(u.Fragment,null,this.state.page&&this.state.caseId&&u.createElement(de.a,{to:"/"+this.state.page+"/donate/"+this.state.caseId}),u.createElement(Ft,null)))}}]),t}(u.Component),Ya=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement("p",{className:"sample-text"},u.createElement("ol",null,u.createElement("p",{className:"p-2"},u.createElement("h5",null,"Cum folosesc CharityDiscount?"),u.createElement("ul",null,u.createElement("li",null,"Cau\u021bi magazinul sau produsul dorit"),u.createElement("li",null,"Dai click pe magazin \u0219i vei fi redirec\u021bionat spre site-ul partenerului ales."),u.createElement("li",null,"Continui \xeen mod obi\u0219nuit cump\u0103r\u0103turile finaliz\xe2nd comanda"),u.createElement("li",null,"Revi pe CharityDiscount pentru a verifica c\xe2\u021bi bani ai economisit (dureaz\u0103 c\xe2teva minute)"))),u.createElement("p",{className:"p-2"},u.createElement("h5",null,"De unde stie magazinul ca am venit de pe CharityDiscount?"),u.createElement("ul",null,u.createElement("li",null,"Link-urile catre magazinele partenere de pe CharityDiscount sunt catre platforme intermediare."),u.createElement("li",null,"Aceste platforme contorizeaza click-ul si mai apoi te redirectioneaza catre magazinul dorit."),u.createElement("li",null,"De asemenea, un (third-party) cookie este setat pe site-ul magazinului astfel ca acesta este constient ca ai venit de pe CharityDiscount."),u.createElement("li",null,"Acest cookie este valid pentru un anumit numar de zile (e.g. 30) astfel ca poti beneficia de cashback chiar daca nu accesezi de fiecare data magazinul prin intermediul CharityDiscount."))),u.createElement("p",{className:"p-2"},u.createElement("h5",null,"Pot beneficia de cashback pe mai multe platforme simultan?"),u.createElement("ul",null,u.createElement("li",null,"Cashback-ul este acordat pe baza cookie-ului prezentat la intrebarea anterioara."),u.createElement("li",null,"Acest cookie este tot timpul valid doar pentru ultima platforma de pe cashback prin care ai accesat magazinul."),u.createElement("li",null,"Exemplu: daca deschizi site-ului unui magazin prin CharityDiscount si mai apoi deschizi acelasi site de pe o alta platforma de cashback, vei primi cashback-ul doar pe acea platforma."))),u.createElement("p",{className:"p-2"},u.createElement("h5",null,"Pentru ce produse primesc cashback?"),u.createElement("ul",null,u.createElement("li",null,"Pentru inceput, cashback-ul oferit face parte din politica fiecarui magazin. Astfel ca, fiecare magazin stabileste cashback-ul acordat care poate varia de la produs la produs sau de la categorie la categorie (e.g. 3% pentru telefoane, 10% pentru carti)."),u.createElement("li",null,"Totusi, magazinele ofera cashback pentru orice cumparatura efectuata (orice produs, fie ca este la promotie sau nu) ca urmare a accesari magazinului prin intermediul CharityDiscount."),u.createElement("li",null,"Acest proces se numeste marketing afiliat."))),u.createElement("p",{className:"p-2"},u.createElement("h5",null,"Este CharityDiscount gratis?"),u.createElement("ul",null,u.createElement("li",null,"Da, CharityDiscount este gratis."),u.createElement("li",null,"Venitul platformei se bazeaza in intregime pe conceptul promovat in sine. Cu alte cuvinte, comisionul oferit de magazinele partenere este impartit intre tine si CharityDiscount."))))))}}]),t}(u.Component),Qa=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement("p",{className:"sample-text"},u.createElement("ol",null,u.createElement("p",{className:"p-2"},u.createElement("h5",null,"Cum folosesc CharityDiscount?"),u.createElement("ul",null,u.createElement("li",null,"Cau\u021bi magazinul sau produsul dorit"),u.createElement("li",null,"Dai click pe magazin \u0219i vei fi redirec\u021bionat spre site-ul partenerului ales."),u.createElement("li",null,"Continui \xeen mod obi\u0219nuit cump\u0103r\u0103turile finaliz\xe2nd comanda"),u.createElement("li",null,"Revi pe CharityDiscount pentru a verifica c\xe2\u021bi bani ai economisit (dureaz\u0103 c\xe2teva minute)"))),u.createElement("p",{className:"p-2"},u.createElement("h5",null,"De unde stie magazinul ca am venit de pe CharityDiscount?"),u.createElement("ul",null,u.createElement("li",null,"Link-urile catre magazinele partenere de pe CharityDiscount sunt catre platforme intermediare."),u.createElement("li",null,"Aceste platforme contorizeaza click-ul si mai apoi te redirectioneaza catre magazinul dorit."),u.createElement("li",null,"De asemenea, un (third-party) cookie este setat pe site-ul magazinului astfel ca acesta este constient ca ai venit de pe CharityDiscount."),u.createElement("li",null,"Acest cookie este valid pentru un anumit numar de zile (e.g. 30) astfel ca poti beneficia de cashback chiar daca nu accesezi de fiecare data magazinul prin intermediul CharityDiscount."))),u.createElement("p",{className:"p-2"},u.createElement("h5",null,"Pot beneficia de cashback pe mai multe platforme simultan?"),u.createElement("ul",null,u.createElement("li",null,"Cashback-ul este acordat pe baza cookie-ului prezentat la intrebarea anterioara."),u.createElement("li",null,"Acest cookie este tot timpul valid doar pentru ultima platforma de pe cashback prin care ai accesat magazinul."),u.createElement("li",null,"Exemplu: daca deschizi site-ului unui magazin prin CharityDiscount si mai apoi deschizi acelasi site de pe o alta platforma de cashback, vei primi cashback-ul doar pe acea platforma."))),u.createElement("p",{className:"p-2"},u.createElement("h5",null,"Pentru ce produse primesc cashback?"),u.createElement("ul",null,u.createElement("li",null,"Pentru inceput, cashback-ul oferit face parte din politica fiecarui magazin. Astfel ca, fiecare magazin stabileste cashback-ul acordat care poate varia de la produs la produs sau de la categorie la categorie (e.g. 3% pentru telefoane, 10% pentru carti)."),u.createElement("li",null,"Totusi, magazinele ofera cashback pentru orice cumparatura efectuata (orice produs, fie ca este la promotie sau nu) ca urmare a accesari magazinului prin intermediul CharityDiscount."),u.createElement("li",null,"Acest proces se numeste marketing afiliat."))),u.createElement("p",{className:"p-2"},u.createElement("h5",null,"Este CharityDiscount gratis?"),u.createElement("ul",null,u.createElement("li",null,"Da, CharityDiscount este gratis."),u.createElement("li",null,"Venitul platformei se bazeaza in intregime pe conceptul promovat in sine. Cu alte cuvinte, comisionul oferit de magazinele partenere este impartit intre tine si CharityDiscount."))))))}}]),t}(u.Component),Ka=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement("div",{className:"container p_120"},u.createElement("div",{className:"p-2 p-md-4"},u.createElement("h3",{className:"mb-30 title_color"},u.createElement(Ee.a,{id:"faq.title",defaultMessage:"FAQ"})),u.createElement("div",{className:"mt-sm-20 left-align-p"},"ro"===this.props.currentLocale?u.createElement(Ya,null):u.createElement(Qa,null)))))}}]),t}(u.Component),Za=Object(h.c)((function(e){return{currentLocale:e.locale.langResources.language}}))(Ka),Xa=Object(h.c)((function(e){return{isLoggedIn:e.user.isLoggedIn}}))((function(e){return e.isLoggedIn?u.createElement("main",null,u.createElement(de.d,null,u.createElement(de.b,{exact:!0,path:re.CONTACT,component:qe}),u.createElement(de.b,{exact:!0,path:re.CATEGORIES+"/:favShops",component:It}),u.createElement(de.b,{exact:!0,path:re.CATEGORIES,component:It}),u.createElement(de.b,{exact:!0,path:re.CATEGORIES+"/shop/:shopName",component:It}),u.createElement(de.b,{exact:!0,path:re.USER,component:Jt}),u.createElement(de.b,{exact:!0,path:re.CAUSES,component:Kt}),u.createElement(de.b,{exact:!0,path:re.LOGIN,component:Gt}),u.createElement(de.b,{exact:!0,path:re.WALLET,component:Sa}),u.createElement(de.b,{exact:!0,path:re.WALLET+"/donate/:caseId",component:Sa}),u.createElement(de.b,{exact:!0,path:re.REVIEW+"/:id",component:_a}),u.createElement(de.b,{exact:!0,path:re.TOS,component:Oa}),u.createElement(de.b,{exact:!0,path:re.PRIVACY,component:ja}),u.createElement(de.b,{exact:!0,path:re.FAQ,component:Za}),u.createElement(de.b,{exact:!0,path:re.PRODUCTS,component:Ba}),u.createElement(de.b,{exact:!0,path:re.AUTH,component:Ja}),u.createElement(de.b,{render:function(){return u.createElement(de.a,{to:re.LOGIN})}}))):u.createElement("main",null,u.createElement(de.d,null,u.createElement(de.b,{exact:!0,path:re.LOGIN,component:Gt}),u.createElement(de.b,{exact:!0,path:re.TOS,component:Oa}),u.createElement(de.b,{exact:!0,path:re.PRIVACY,component:ja}),u.createElement(de.b,{exact:!0,path:re.FAQ,component:Za}),u.createElement(de.b,{exact:!0,path:re.AUTH,component:Ja}),u.createElement(de.b,{render:function(){return u.createElement(de.a,{to:re.LOGIN})}})))})),$a=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){var e="/landing-en.html";return"ro"===V(A.LANG)&&(e="/landing-ro.html"),u.createElement("footer",{className:"footer-area"},u.createElement("hr",{"w-100":"true"}),u.createElement("div",{className:"container"},u.createElement("div",{className:"row d-flex justify-content-between"},u.createElement("div",{className:"col-md-4 col-6 single-footer-widget"},u.createElement("h6",{className:"footer_title"},u.createElement(Ee.a,{id:"footer.info",defaultMessage:"Info"})),u.createElement("ul",{className:"flex-column footer-text"},u.createElement("li",{className:"d-flex"},u.createElement("a",{href:e,onClick:function(){G(A.USER)}},u.createElement(Ee.a,{id:"userinfo.about.label",defaultMessage:"About"}))),u.createElement("li",{className:"d-flex"},u.createElement(vt.a,{to:"/privacy"},u.createElement(Ee.a,{id:"userinfo.privacy.button",defaultMessage:"Privacy"}))),u.createElement("li",{className:"d-flex"},u.createElement(vt.a,{to:"/tos"},u.createElement(Ee.a,{id:"userinfo.terms.button",defaultMessage:"Terms and Conditions"}))),u.createElement("li",{className:"d-flex"},u.createElement(vt.a,{to:"/faq"},u.createElement(Ee.a,{id:"userinfo.faq.button",defaultMessage:"FAQ"}))))),u.createElement("div",{className:"d-flex flex-column flex-md-row col-6 col-md-8 mx-0 px-0 justify-content-start justify-content-md-between"},u.createElement("div",{className:"w-100 col-md-6 single-footer-widget"},u.createElement("div",{className:"f_social_wd"},u.createElement("h6",{className:"footer_title"},u.createElement(Ee.a,{id:"footer.follow",defaultMessage:"Follow us"})),u.createElement("div",{className:"f_social"},u.createElement("a",{href:"https://www.facebook.com/charitydiscount",target:"_blank",rel:"noopener noreferrer"},u.createElement("i",{className:"fa fa-facebook"})),u.createElement("a",{href:"https://www.instagram.com/charitydiscount/",target:"_blank",rel:"noopener noreferrer"},u.createElement("i",{className:"fa fa-instagram"}))))),u.createElement("div",{className:"w-100 col-md-6 single-footer-widget"},u.createElement("div",{className:"single-footer-widget"},u.createElement("h6",{className:"footer_title"},u.createElement(Ee.a,{id:"footer.mobile",defaultMessage:"Get it on mobile"})),u.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.clover.charity_discount",target:"_blank",rel:"noopener noreferrer"},u.createElement("img",{src:"/img/mobile/google-play-badge.svg",height:40,width:135,alt:""})),u.createElement("a",{href:"https://apps.apple.com/us/app/charitydiscount/id1492115913?ls=1",target:"_blank",rel:"noopener noreferrer"},u.createElement("img",{src:"/img/mobile/app-store-badge.svg",height:40,width:135,alt:""})))))),u.createElement("div",{className:"row my-3 justify-content-center copyright-text"},u.createElement("span",null,"\xa9 CharityDiscount ",bn))))}}]),t}(u.Component),en=a(123),tn=[{value:"ro",label:"RO"},{value:"en",label:"EN"}],an=function(e){function t(e){var a;return Object(ce.a)(this,t),(a=Object(ue.a)(this,Object(me.a)(t).call(this,e))).handleScroll=function(){window.scrollY>50?a.state.fixedHeader||a.setState({fixedHeader:!0}):a.state.fixedHeader&&a.setState({fixedHeader:!1})},a.state={username:"",fixedHeader:!1,favShopsIconFill:!1},a.handleLogOut=a.handleLogOut.bind(Object(he.a)(a)),a.loadFavoriteShops=a.loadFavoriteShops.bind(Object(he.a)(a)),a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e=Nn.currentUser;e&&this.setState({username:e.displayName||e.email||""}),window.addEventListener("scroll",this.handleScroll,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleLogOut",value:function(e){e.preventDefault(),this.props.logout()}},{key:"loadFavoriteShops",value:function(){var e=V(A.FAVORITE_SHOPS);e&&this.props.setShops(JSON.parse(e)),this.props.setCurrentCategory("Favorite Shops"),this.props.setSelections([]),this.setState({favShopsIconFill:!0})}},{key:"render",value:function(){var e,t=this,a=this.props.view===l.CATEGORIES,n=this.props.view===l.PRODUCTS,r=this.props.view===l.TOS,i=this.props.view===l.PRIVACY,s=this.props.view===l.CAUSES,o=this.props.view===l.WALLET,c=this.props.isLoggedIn;return u.createElement("header",{className:"header_area ".concat(this.state.fixedHeader?"navbar_fixed":"")},u.createElement("div",{className:"top_menu row m0"},u.createElement("div",{className:"container-fluid"},u.createElement("div",{className:"float-left"},c&&u.createElement(u.Fragment,null,u.createElement("p",null,u.createElement(Ee.a,{id:"navigation.welcome",defaultMessage:"Welcome: "}),this.state.username?this.state.username:""))),u.createElement("div",{className:"float-right"},u.createElement("ul",{className:"right_side"},c&&u.createElement(u.Fragment,null,u.createElement("li",null,u.createElement("a",{href:"#",onClick:this.handleLogOut},u.createElement(Ee.a,{id:"navigation.logout",defaultMessage:"Logout: "})))))),u.createElement("div",{className:"float-right col-4 col-md-2"},u.createElement(en.a,{name:"form-field-name",value:(e=this.props.currentLocale,tn.find((function(t){return t.value===e}))),onChange:Ue,isSearchable:!1,className:"react_select",classNamePrefix:"react_select",options:tn})))),u.createElement("div",{className:"main_menu"},u.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},u.createElement("div",{className:"container-fluid"},(c||!c&&(r||i))&&u.createElement(vt.a,{className:"navbar-brand logo_h",to:"/login"},u.createElement("img",{src:"/img/logo.png",alt:""})),c&&u.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},u.createElement("span",{className:"icon-bar"}),u.createElement("span",{className:"icon-bar"}),u.createElement("span",{className:"icon-bar"})),u.createElement("div",{className:"collapse navbar-collapse offset",id:"navbarSupportedContent"},u.createElement("div",{className:"row w-100"},u.createElement("div",{className:"col-lg-7 pr-0"},u.createElement("ul",{className:"nav navbar-nav center_nav pull-right"},c&&u.createElement(u.Fragment,null,u.createElement("li",{className:"nav-item "+(a?"active":"")},u.createElement(vt.a,{className:"nav-link",to:re.CATEGORIES},u.createElement(Ee.a,{id:"navigation.shops",defaultMessage:"Magazine"}))),u.createElement("li",{className:"nav-item "+(n?"active":"")},u.createElement(vt.a,{to:re.PRODUCTS,className:"nav-link"},u.createElement(Ee.a,{id:"navigation.products",defaultMessage:"Products"}))),u.createElement("li",{className:"nav-item "+(s?"active":"")},u.createElement(vt.a,{to:re.CAUSES,className:"nav-link"},u.createElement(Ee.a,{id:"navigation.causes",defaultMessage:"Cauze"}))),u.createElement("li",{className:"nav-item "+(o?"active":"")},u.createElement(vt.a,{className:"nav-link",to:re.WALLET},u.createElement(Ee.a,{id:"navigation.wallet",defaultMessage:"Portofel"})))))),c&&u.createElement("div",{className:"col-lg-5"},u.createElement("ul",{className:"nav navbar-nav navbar-right right_nav pull-right"},u.createElement("hr",null),u.createElement("li",{className:"nav-item"},u.createElement(vt.a,{to:re.CATEGORIES+"/favShops",onClick:this.loadFavoriteShops,onMouseLeave:function(){return t.setState({favShopsIconFill:!1})},className:"icons"},this.state.favShopsIconFill?u.createElement("i",{className:"fa fa-heart","aria-hidden":"true"}):u.createElement("i",{className:"fa fa-heart-o","aria-hidden":"true"}))),u.createElement("li",{className:"nav-item"},u.createElement(vt.a,{to:re.USER,className:"icons"},u.createElement("i",{className:"fa fa-user","aria-hidden":"true"}))),u.createElement("hr",null)))))))))}}]),t}(u.Component),nn=Object(h.c)((function(e){return{view:e.navigation.stageName,favShopsIconFill:e.navigation.favShopsIconFill,isLoggedIn:e.user.isLoggedIn,currentLocale:e.locale.langResources.language}}),(function(e){return{logout:function(){return e(oe())},setShops:function(t){return e(rt(t))},setCurrentCategory:function(t){return e(ut(t))},setSelections:function(t){return e(mt(t))}}}))(an),rn=(a(214),a(122)),sn=a.n(rn);function on(){var e=Object(de.g)().pathname;return Object(u.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var cn=function(e){function t(){var e,a;Object(ce.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ue.a)(this,(e=Object(me.a)(t)).call.apply(e,[this].concat(r)))).state={usingAdblock:!1},a.fakeAdBanner=null,a}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){var e;this.setState({usingAdblock:0===(null===(e=this.fakeAdBanner)||void 0===e?void 0:e.offsetHeight)})}},{key:"render",value:function(){var e=this;if(!0===this.state.usingAdblock)return m.a.createElement(Ve.a,{visible:!0,effect:"fadeInUp"},m.a.createElement("h3",{style:{padding:15}},m.a.createElement(Ee.a,{id:"adblock.message",defaultMessage:"Disable AdBlock or similar programs to continue"}),m.a.createElement("a",{href:"#",onClick:function(){return window.location.reload()},className:"btn submit_btn genric-btn circle"},m.a.createElement(Ee.a,{id:"adblock.button",defaultMessage:"Reload"}))));return m.a.createElement("div",{ref:function(t){return e.fakeAdBanner=t},style:{height:"1px",width:"1px",visibility:"hidden",pointerEvents:"none"},className:"adBanner"})}}]),t}(m.a.Component),ln=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"componentDidMount",value:function(){this.props.loadShops()}},{key:"render",value:function(){return this.props.loaded?u.createElement(u.Fragment,null,u.createElement(cn,null),u.createElement(on,null),u.createElement(nn,null),u.createElement(Xa,null),u.createElement($a,null),u.createElement(sn.a,{cookieName:"CookieCharityDiscount",buttonText:u.createElement(Ee.a,{id:"cookie.button",defaultMessage:"I understand"}),buttonStyle:{color:"#fff",fontSize:"14px",background:"#1641ff",borderRadius:"20px"}},u.createElement(Ee.a,{id:"cookie.key",defaultMessage:"This website uses cookies. By continuing you accept cookies usage"}))):u.createElement(Ra.FadeLoader,{loading:!0,color:"#1641ff",css:_e})}}]),t}(u.Component),un=Object(h.c)((function(e){return{loaded:e.shops.shopsLoaded}}),{loadShops:function(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){var a,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe();case 3:a=e.sent,F(A.SHOPS,JSON.stringify(a)),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),n=V(A.SHOPS),a=n?JSON.parse(n):[];case 12:return e.abrupt("return",t(nt(a)));case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(ln),mn=a(252),pn=a(250);Object(pn.defineMessages)(L),Object(pn.defineMessages)(z);var dn=function(e){function t(){return Object(ce.a)(this,t),Object(ue.a)(this,Object(me.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(le.a)(t,[{key:"render",value:function(){return u.createElement(mn.a,{textComponent:u.Fragment,locale:this.props.langResources.language,messages:this.props.langResources.resources},u.createElement(un,null))}}]),t}(u.Component),hn=Object(h.c)((function(e){return{langResources:e.locale.langResources}}))(dn);a.d(t,"publicUrl",(function(){return gn})),a.d(t,"appVersion",(function(){return bn})),a.d(t,"history",(function(){return En})),a.d(t,"store",(function(){return vn})),a.d(t,"firebaseApp",(function(){return Sn})),a.d(t,"DB",(function(){return yn})),a.d(t,"auth",(function(){return Nn})),a.d(t,"storage",(function(){return Cn})),a.d(t,"remoteConfig",(function(){return On}));var fn,gn="",bn="2.1.3",En=Object(v.a)({basename:gn}),vn=Object(f.d)((fn=En,Object(f.c)({router:Object(E.b)(fn),navigation:T,user:_,shops:M,category:U,locale:Y})),{},Object(f.a)(g.a,Object(b.a)(En))),Sn=K.initializeApp(Q),yn=Sn.firestore(),Nn=Sn.auth(),Cn=Sn.storage(),On=Sn.remoteConfig();On.settings={minimumFetchIntervalMillis:36e5,fetchTimeoutMillis:6e4},On.fetchAndActivate(),Nn.onAuthStateChanged((function(e){e&&vn.dispatch(ie(e.uid))})),d.a.render(m.a.createElement(h.a,{store:vn},m.a.createElement(E.a,{history:En},m.a.createElement(hn,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");X?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$(t,e)}))}}({onUpdate:function(e){e.unregister().then((function(){window.location.reload()}))}})},60:function(e){e.exports=JSON.parse('{"navigation.wallet":"Portofel","navigation.causes":"Caritate","navigation.shops":"Magazine","navigation.welcome":"Bine ai venit: ","navigation.logout":"Delogare ","categories.title":"Categorii","All":"Toate","Adult":"Adult","Automotive":"Auto","BabiesKids&Toys":"Bebe","Beauty":"Frumusete","BooksMovies&Music":"Divertisment","Dating":"Intalniri","ElectronicsIT&C":"IT","Fashion":"Moda","Financialservices":"Servici financiare","Games":"Jocuri","Gifts&Flowers":"Cadouri & Flori","Groupons":"Groupons","Health&Personalcare":"Sanatate","Home&Garden":"Casa & Gradina","Hypermarket&Groceries":"Supermarket","Insurance":"Asigurari","Jewelry":"Bijuteri","Jobs":"Joburi","Learning":"Studiu","Officesupplies":"Birou","OnlineMall":"Online Mall","Others":"Altele","Petsupplies":"Animale de companie","Pharma":"Farmacie","Software":"Soft","Sports&outdoors":"Sport","Telecom":"Telecom","Travel&Tourism":"Calatorii","Watches":"Ceasuri","FavoriteShops":"Favorite","shops.search":"Scrie numele magazinului aici...","shop.access.button":"Acceseaza","review.rating.label":"Ratingul tau:","review.no.reviews":"Nu exista nicio parere","review.placeholder":"Parere","review.submit.button":"Trimite parerea","review.tell.us":"Spune-ne parerea ta","wallet.cashback":"Bani disponibili","wallet.charity.points":"Charity Points","wallet.cashout":"Retragere","wallet.history":"Istoric","wallet.block.pending":"In asteptare:","wallet.block.cashout":"Retrage","wallet.block.donate":"Doneaza","wallet.cashback.history":"Comisioane","wallet.table.date":"Data","wallet.table.status":"Status","wallet.table.amount":"Suma","wallet.table.shop":"Magazin","wallet.table.type":"Tip","wallet.table.target":"Destinatar","wallet.tx.type.donation":"Donatie","wallet.tx.type.bonus":"Bonus","wallet.tx.type.commission":"Comision","wallet.tx.type.cashout":"Retragere","wallet.tx.status.paid":"Platit","wallet.tx.status.approved":"Aprobata","wallet.tx.status.rejected":"Respinsa","wallet.tx.status.pending":"In asteptare","userinfo.upload.button":"Schimba poza","userinfo.change.password.button":"Schimba parola","userinfo.contact.us.button":"Contacteaza-ne","userinfo.terms.button":"Termeni si conditii","userinfo.faq.button":"Intrebari frecvente","userinfo.privacy.button":"Confiden\u021bialitate","userinfo.logout.button":"Delogare","privacy.title":"Confiden\u021bialitate","tos.title":"Termeni si conditii","shop.category":"Categorie: ","shop.cashback":"Comision: ","footer.mobile":"Descarca pe telefon","footer.follow":"Urmareste-ne","wallet.block.cashout.name":"Nume posesor cont","wallet.block.cashout.iban":"IBAN","wallet.block.available.amount":"Bani disponibili: ","contact.mail.label":"Trimite-ti-ne mesajul vostru oricand!","contact.name":"Numele...","contact.email":"Email...","contact.subject":"Subiect...","contact.message":"Mesajul...","contact.send.message.button":"Trimite mesajul","contact.subject.wrong":"Subiectul nu este corect","contact.message.wrong":"Mesajul nu este corect","contact.sendMessage.ok":"Mesajul a fost trimis","contact.sendMessage.not.ok":"Mesajul nu a fost trimis, te rog incearca din nou","userInfo.select.language.placeholder":"Alege limba...","userInfo.profile.picture.uploaded":"Poza de profil s-a incarcat cu success","userInfo.profile.picture.error":"Incarcarea nu a reusit, dimensiunea pozei trebuie sa fie mai mica de 5MB","userInfo.email.reset.sent":"A fost trimis un mail de recuperare a parolei","userInfo.email.reset.error":"Mail-ul de recuperare a parolei nu a putut fi trimis","review.error.message":"Trebuie introdusa o descriere si ales un rating","review.failed.to.update.error.message":"Mesajul nu a putut fi trimis, te rog incearca din nou","review.update.message":"Rating-ul a fost salvat","favorite.shop.failed.to.update":"Magazinul favorit nu a putut fi salvat, te rog incearca din nou","wallet.cashout.name.error":"Introdu un nume","wallet.cashout.iban.error":"Introdu un IBAN valid","wallet.cashout.amount.error":"Alege o suma corecta, suma minima este 50 RON","wallet.cashout.no.amount.error":"Nu ai suficienti bani","wallet.donate.amount.error":"Alege o suma","wallet.donate.cause.error":"Alege o cauza","wallet.block.otp.request.placeholder":"Codul primit pe mail","wallet.block.otp.proceed":"Valideaza","wallet.block.otp.mail.mesasge":"A fost trimis un mail care contine codul de validare a tranzactiei curente.","wallet.block.otp.code.error":"Introdu codul primit pe mail","wallet.block.otp.code.worng.error":"Codul nu este valid","footer.translation":"Traducere","login.question.label":"Nu stii ce inseamna CharityDiscount?","login.question.ready.label":"Pregatit sa ni te alaturi?","wallet.block.cashout.confirm.name":"Nume posesor cont: ","wallet.block.cashout.confirm.iban":"IBAN: ","shop.cashback.without.vat.and.transport":"din valoarea fara TVA si transport","shop.available.in":"Valabil in : ","adblock.message":"AdBlock trebuie sa fie dezactivat pentru a putea continua  ","userinfo.delete.account.button":"Cerere stergere cont","userInfo.delete.account.question":"Sigur doriti stergerea contului?","userInfo.delete.account.ok":"Cererea de stergere a contului a fost trimisa","userInfo.delete.account.not.ok":"Cererea nu a putut fi trimisa, incearca din nou","adblock.button":"Reincarca pagina","wallet.block.minimum.amount":"Suma minima:","average.waiting.time":"Timpul mediu de plata: ","average.waiting.time.days":" zile","userinfo.about.label":"Despre","footer.info":"Info","products.search":"Scrie numele produsului aici...","navigation.products":"Produse","product.shop":"Magazin: ","products.filters":"Filtre","products.filters.price":"Pret","products.button.search":"Cauta","products.filters.sorting":"Sortare","products.filters.sorting.ascending":"Crescator","products.filters.sorting.descending":"Descrescator","shops.filters.sorting.ascending":"Nr. de review-uri \u2191","shops.filters.sorting.descending":"Nr. de review-uri \u2193","sort.key":"Sorteaza","none.key":"Fara sortare","product.cashback.money":"Bani economisiti: ~ ","shop.promotions":"Promotii","wallet.commission.shop.inactive":"Magazinul nu mai este disponibil si comisionul se poate sa nu mai fie primit","shops.filters.sorting.commission.ascending":"Comision \u2191","shops.filters.sorting.commission.descending":"Comision \u2193","cookie.key":"Acest site foloseste cookies. Continuarea navigarii presupune ca esti de acord cu utilizarea cookie-urilor","cookie.button":"Am \xeen\u021beles","shops.filters.sorting.atoz.asc":"Nume \u2191","shops.filters.sorting.atoz.desc":"Nume \u2193","cause.contribute.button":"Contribuie","cause.donated":"Donat: ","RON":"RON","EUR":"EUR","Charity Points":"Charity Points","faq.title":"Intrebari si raspunsuri frecvente"}')},61:function(e){e.exports=JSON.parse('{"navigation.wallet":"Wallet","navigation.causes":"Causes","navigation.shops":"Shops","navigation.welcome":"Welcome: ","navigation.logout":"Logout ","categories.title":"Categories","All":"All","Adult":"Adult","Automotive":"Automotive","BabiesKids&Toys":"Babies Kids & Toys","Beauty":"Beauty","BooksMovies&Music":"Books Movies & Music","Dating":"Dating","ElectronicsIT&C":"Electronics IT&C","Fashion":"Fashion","Financialservices":"Financial services","Games":"Games","Gifts&Flowers":"Gifts & Flowers","Groupons":"Groupons","Health&Personalcare":"Health & Personal care","Home&Garden":"Home & Garden","Hypermarket&Groceries":"Hypermarket & Groceries","Insurance":"Insurance","Jewelry":"Jewelry","Jobs":"Jobs","Learning":"Learning","Officesupplies":"Office supplies","OnlineMall":"Online Mall","Others":"Others","Petsupplies":"Pet supplies","Pharma":"Pharma","Software":"Software","Sports&outdoors":"Sports & outdoors","Telecom":"Telecom","Travel&Tourism":"Travel & Tourism","Watches":"Watches","FavoriteShops":"Favorite Shops","shops.search":"Type shop name here...","shop.access.button":"Access","review.rating.label":"Your rating:","review.no.reviews":"No reviews yet","review.placeholder":"Message","review.submit.button":"Submit review","review.tell.us":"Add your review","wallet.cashback":"Cashback","wallet.charity.points":"Charity points","wallet.cashout":"Cashout","wallet.history":"History","wallet.block.pending":"Pending:","wallet.block.cashout":"Cashout","wallet.block.donate":"Donate","wallet.cashback.history":"Cashback","wallet.table.date":"Date","wallet.table.status":"Status","wallet.table.amount":"Sum","wallet.table.shop":"Shop","wallet.table.type":"Type","wallet.table.target":"Target","wallet.tx.type.donation":"Donation","wallet.tx.type.bonus":"Bonus","wallet.tx.type.commission":"Commission","wallet.tx.type.cashout":"Cashout","wallet.tx.status.paid":"Paid","wallet.tx.status.approved":"Approved","wallet.tx.status.rejected":"Rejected","wallet.tx.status.pending":"Pending","userinfo.upload.button":"Upload photo","userinfo.change.password.button":"Change password","userinfo.contact.us.button":"Contact us","userinfo.terms.button":"Terms of agreement","userinfo.faq.button":"FAQ","userinfo.privacy.button":"Privacy","userinfo.logout.button":"Logout","privacy.title":"Privacy","tos.title":"Terms of agreement","shop.category":"Category: ","shop.cashback":"Cashback: ","footer.mobile":"Get it on mobile","footer.follow":"Follow us","wallet.block.cashout.name":"Account holder name","wallet.block.cashout.iban":"IBAN","wallet.block.available.amount":"Available amount: ","contact.mail.label":"Send us your message anytime!","contact.name":"Enter your name","contact.email":"Enter email address","contact.subject":"Enter subject","contact.message":"Enter message","contact.send.message.button":"Send messasge","contact.subject.wrong":"The subject is not valid","contact.message.wrong":"The message is not valid","contact.sendMessage.ok":"The message was sent","contact.sendMessage.not.ok":"The message was not sent, please try again","userInfo.select.language.placeholder":"Select language...","userInfo.profile.picture.uploaded":"Profile picture uploaded successfully","userInfo.profile.picture.error":"Failed to upload. Warning! Photo size must be smaller than 5 MB","userInfo.email.reset.sent":"Email reset password sent","userInfo.email.reset.error":"Failed to send password reset email","review.error.message":"Description and rating must not be empty","review.failed.to.update.error.message":"Review failed to update, please try again","review.update.message":"Review updated","favorite.shop.failed.to.update":"Favorite shop failed to update, please try again","wallet.cashout.name.error":"Please enter a name","wallet.cashout.iban.error":"Please enter a valid bank account","wallet.cashout.amount.error":"Please select a correct amount. minimum is 50 RON","wallet.cashout.no.amount.error":"You don\'t have enough money","wallet.donate.amount.error":"Please select an amount","wallet.donate.cause.error":"Please select a cause","wallet.block.otp.request.placeholder":"Code received on mail","wallet.block.otp.proceed":"Validate","wallet.block.otp.mail.mesasge":"A mail was sent with the code to validate the transaction.","wallet.block.otp.code.error":"Please enter the code received on mail","wallet.block.otp.code.worng.error":"Code is not valid","footer.translation":"Translation","login.question.label":"Not sure what CharityDiscount is?","login.question.ready.label":"Ready to join?","wallet.block.cashout.confirm.name":"Account holder name: ","wallet.block.cashout.confirm.iban":"IBAN: ","shop.cashback.without.vat.and.transport":"of the value without VAT and transport","shop.available.in":"Available in: ","adblock.message":"Disable AdBlock or similar programs to continue  ","userinfo.delete.account.button":"Request delete account","userInfo.delete.account.question":"Are you sure you want to delete account?","userInfo.delete.account.ok":"Delete account request was sent","userInfo.delete.account.not.ok":"Something went wrong, please try again","adblock.button":"Reload page","wallet.block.minimum.amount":"Minimum amount:","average.waiting.time":"Average payment time: ","average.waiting.time.days":" days","userinfo.about.label":"About","footer.info":"Info","products.search":"Type product name here...","navigation.products":"Products","product.shop":"Shop: ","products.filters":"Filters","products.filters.price":"Price","products.button.search":"Search","products.filters.sorting":"Sorting","products.filters.sorting.ascending":"Ascending","products.filters.sorting.descending":"Descending","shops.filters.sorting.ascending":"Reviews number \u2191","shops.filters.sorting.descending":"Reviews number \u2193","sort.key":"Sort","none.key":"None","product.cashback.money":"Saved money: ~ ","shop.promotions":"Promotions","wallet.commission.shop.inactive":"Shop is not active anymore and the commission may not be received","shops.filters.sorting.commission.ascending":"Cashback \u2191","shops.filters.sorting.commission.descending":" Cashback \u2193","cookie.key":"This website uses cookies. By continuing you accept cookies usage","cookie.button":"I understand","shops.filters.sorting.atoz.asc":"Name \u2191","shops.filters.sorting.atoz.desc":"Name \u2193","cause.contribute.button":"Contribute","cause.donated":"Donated: ","RON":"RON","EUR":"EUR","Charity Points":"Charity points","faq.title":"Frequently Asked Questions"}')}},[[133,1,2]]]);